*{margin:0;padding:0;box-sizing:border-box}
:root{
  --bg:#0a0a14;--surface:#12122a;--card:#1a1a36;--card-hover:#222248;
  --border:rgba(255,255,255,0.06);--border-hover:rgba(255,255,255,0.12);
  --text:#e8e8f0;--muted:#6a6a8e;--accent:#6c63ff;--accent-hover:#7d75ff;
  --green:#00E676;--orange:#ffab40;--red:#ff5252;--pink:#e040fb;--blue:#00b0ff;
  --radius:12px;--radius-lg:16px;
}
html,body{background:var(--bg);color:var(--text);font-family:'SF Pro Display','Inter','Segoe UI',system-ui,sans-serif;min-height:100vh;overflow-x:hidden}
a{color:var(--accent);text-decoration:none}

/* Header */
.header{display:flex;align-items:center;justify-content:space-between;padding:16px 24px;background:var(--surface);border-bottom:1px solid var(--border);position:sticky;top:0;z-index:100;backdrop-filter:blur(20px)}
.header-left{display:flex;align-items:center;gap:12px}
.header-left h1{font-size:1.2rem;font-weight:700;letter-spacing:-0.3px}
.logo{font-size:1.4rem}
.badge{background:var(--card);padding:4px 10px;border-radius:20px;font-size:.75rem;color:var(--muted)}
.header-right{display:flex;align-items:center;gap:16px}
.header-status{display:flex;align-items:center;gap:6px;font-size:.85rem;color:var(--muted)}
.dot{width:8px;height:8px;border-radius:50%;display:inline-block}
.dot-green{background:var(--green);box-shadow:0 0 6px var(--green)}
.dot-orange{background:var(--orange)}
.dot-red{background:var(--red)}

/* Buttons */
.btn{padding:8px 16px;border-radius:var(--radius);border:1px solid var(--border);background:var(--card);color:var(--text);font-size:.85rem;cursor:pointer;transition:all .15s}
.btn:hover{border-color:var(--border-hover);background:var(--card-hover)}
.btn-primary{background:var(--accent);border-color:var(--accent);color:#fff;font-weight:600}
.btn-primary:hover{background:var(--accent-hover)}
.btn-sm{padding:4px 10px;font-size:.75rem}
.btn-danger{border-color:var(--red);color:var(--red)}
.btn-danger:hover{background:var(--red);color:#fff}

/* Layout */
.layout{display:flex;height:calc(100vh - 61px);overflow:hidden}
.sidebar{width:260px;min-width:260px;background:var(--surface);border-right:1px solid var(--border);padding:20px;overflow-y:auto}
.sidebar h2{font-size:.9rem;font-weight:600;color:var(--muted);margin-bottom:16px;text-transform:uppercase;letter-spacing:1px}
.main{flex:1;overflow-y:auto;padding:20px}

/* Agent Cards */
.agent-card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:12px;margin-bottom:8px;transition:all .15s;cursor:default}
.agent-card:hover{border-color:var(--border-hover)}
.agent-top{display:flex;align-items:center;gap:8px;margin-bottom:6px}
.agent-emoji{font-size:1.2rem}
.agent-name{font-weight:600;font-size:.88rem;flex:1}
.agent-status{font-size:.65rem;padding:3px 8px;border-radius:10px;font-weight:600;text-transform:uppercase;letter-spacing:.5px}
.status-idle{background:rgba(0,230,118,.12);color:var(--green)}
.status-busy{background:rgba(255,171,64,.12);color:var(--orange)}
.status-error{background:rgba(255,82,82,.12);color:var(--red)}
.agent-meta{font-size:.72rem;color:var(--muted);display:flex;flex-direction:column;gap:2px}

/* Tabs */
.tabs{display:flex;gap:4px;margin-bottom:16px}
.tab{padding:8px 16px;border-radius:var(--radius);border:none;background:transparent;color:var(--muted);font-size:.88rem;cursor:pointer;font-weight:500;transition:all .15s}
.tab.active{background:var(--card);color:var(--text)}
.tab:hover{color:var(--text)}
.tab-content{display:none}
.tab-content.active{display:block}

/* Kanban */
.kanban{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;min-height:calc(100vh - 160px)}
.kanban-col{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius-lg);padding:12px;display:flex;flex-direction:column}
.col-header{display:flex;align-items:center;gap:8px;font-size:.85rem;font-weight:600;margin-bottom:12px;padding-bottom:8px;border-bottom:1px solid var(--border)}
.col-dot{width:8px;height:8px;border-radius:50%;display:inline-block}
.col-count{margin-left:auto;background:var(--card);padding:2px 8px;border-radius:10px;font-size:.7rem;color:var(--muted)}
.col-cards{flex:1;display:flex;flex-direction:column;gap:8px;min-height:60px;transition:background .15s;border-radius:var(--radius);padding:4px}
.col-cards.drag-over{background:rgba(108,99,255,.08);outline:2px dashed rgba(108,99,255,.3);outline-offset:-2px}

/* Task Cards */
.task-card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:12px;cursor:grab;transition:all .15s;position:relative}
.task-card:hover{border-color:var(--border-hover);transform:translateY(-1px);box-shadow:0 4px 12px rgba(0,0,0,.3)}
.task-card:active{cursor:grabbing}
.task-card.dragging{opacity:.5}
.task-title{font-size:.85rem;font-weight:600;margin-bottom:8px;line-height:1.3}
.task-meta{display:flex;flex-wrap:wrap;gap:6px;align-items:center}
.task-agent{font-size:.7rem;color:var(--accent);background:rgba(108,99,255,.1);padding:2px 8px;border-radius:8px}
.task-priority{font-size:.65rem;padding:2px 6px;border-radius:6px;font-weight:600;text-transform:uppercase}
.priority-critical{background:rgba(255,82,82,.15);color:var(--red)}
.priority-high{background:rgba(255,171,64,.15);color:var(--orange)}
.priority-medium{background:rgba(108,99,255,.15);color:var(--accent)}
.priority-low{background:rgba(106,106,142,.15);color:var(--muted)}
.task-time{font-size:.65rem;color:var(--muted)}
.task-duration{font-size:.65rem;color:var(--green)}

/* Activity Feed */
.activity-header{margin-bottom:16px}
.activity-header select{padding:8px 12px;border-radius:var(--radius);border:1px solid var(--border);background:var(--card);color:var(--text);font-size:.85rem}
.activity-item{display:flex;gap:12px;padding:12px;border-bottom:1px solid var(--border);align-items:flex-start}
.activity-icon{width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.9rem;background:var(--card);flex-shrink:0}
.activity-content{flex:1;min-width:0}
.activity-action{font-size:.85rem;font-weight:500}
.activity-details{font-size:.78rem;color:var(--muted);margin-top:2px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.activity-time{font-size:.7rem;color:var(--muted);white-space:nowrap}
.activity-badge{font-size:.65rem;padding:2px 6px;border-radius:6px;margin-left:6px}
.badge-success{background:rgba(0,230,118,.12);color:var(--green)}
.badge-fail{background:rgba(255,82,82,.12);color:var(--red)}

/* Modals */
.modal-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,.6);z-index:200;justify-content:center;align-items:center;padding:20px;backdrop-filter:blur(4px)}
.modal-overlay.open{display:flex}
.modal{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius-lg);max-width:700px;width:100%;max-height:85vh;overflow-y:auto;animation:modalIn .2s ease}
.modal-sm{max-width:480px}
@keyframes modalIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
.modal-header{display:flex;align-items:center;justify-content:space-between;padding:20px 24px;border-bottom:1px solid var(--border)}
.modal-header h2{font-size:1.1rem;font-weight:600}
.modal-close{background:none;border:none;color:var(--muted);font-size:1.2rem;cursor:pointer;padding:4px 8px;border-radius:8px}
.modal-close:hover{background:var(--card);color:var(--text)}
.modal-body{padding:20px 24px}
.modal-body label{display:block;font-size:.8rem;color:var(--muted);margin-bottom:4px;margin-top:12px}
.modal-body label:first-child{margin-top:0}
.modal-body input,.modal-body textarea,.modal-body select{width:100%;padding:10px 12px;border-radius:var(--radius);border:1px solid var(--border);background:var(--card);color:var(--text);font-size:.88rem;font-family:inherit}
.modal-body input:focus,.modal-body textarea:focus,.modal-body select:focus{outline:none;border-color:var(--accent)}
.form-actions{display:flex;justify-content:flex-end;gap:8px;margin-top:20px;padding-top:16px;border-top:1px solid var(--border)}

/* Detail View */
.detail-section{margin-bottom:20px}
.detail-section h3{font-size:.85rem;color:var(--muted);margin-bottom:8px;text-transform:uppercase;letter-spacing:.5px}
.detail-desc{font-size:.9rem;line-height:1.6;white-space:pre-wrap;background:var(--card);padding:12px;border-radius:var(--radius)}
.detail-meta{display:grid;grid-template-columns:repeat(2,1fr);gap:8px}
.detail-meta-item{background:var(--card);padding:10px 12px;border-radius:var(--radius)}
.detail-meta-item .label{font-size:.7rem;color:var(--muted);text-transform:uppercase;letter-spacing:.5px}
.detail-meta-item .value{font-size:.9rem;font-weight:600;margin-top:2px}
.detail-actions{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:16px}
.comment-item{padding:10px;border-left:3px solid var(--accent);margin-bottom:8px;background:var(--card);border-radius:0 var(--radius) var(--radius) 0}
.comment-item.type-error{border-left-color:var(--red)}
.comment-item.type-log{border-left-color:var(--orange)}
.comment-header{display:flex;justify-content:space-between;font-size:.72rem;color:var(--muted);margin-bottom:4px}
.comment-content{font-size:.85rem;line-height:1.5;white-space:pre-wrap}
.history-item{display:flex;gap:8px;padding:6px 0;font-size:.8rem;border-bottom:1px solid var(--border)}
.history-time{color:var(--muted);font-size:.72rem;white-space:nowrap}

/* Responsive */
@media(max-width:1024px){
  .kanban{grid-template-columns:repeat(2,1fr)}
}
@media(max-width:768px){
  .layout{flex-direction:column;height:auto}
  .sidebar{width:100%;min-width:100%;border-right:none;border-bottom:1px solid var(--border);max-height:200px}
  .sidebar h2{display:none}
  #agentsList{display:flex;gap:8px;overflow-x:auto;padding-bottom:8px}
  .agent-card{min-width:180px}
  .kanban{grid-template-columns:1fr}
  .header{padding:12px 16px}
  .header-left h1{font-size:1rem}
}
