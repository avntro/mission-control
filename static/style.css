*{margin:0;padding:0;box-sizing:border-box}
:root{
  --bg:#1a1a1a;--surface:#222;--card:#2a2a2a;--card-hover:#333;
  --border:rgba(255,255,255,0.08);--border-hover:rgba(255,255,255,0.15);
  --text:#e8e8e8;--muted:#aaa;--accent:#00bcd4;--accent-hover:#00d4ef;
  --green:#00E676;--orange:#ffab40;--red:#ff5252;--pink:#e040fb;--blue:#00b0ff;
  --purple:#6c63ff;
  --gold:#ffd700;--neon-border:rgba(0,188,212,0.3);
  --radius:10px;--radius-lg:14px;
}
html{background:var(--bg);color:var(--text);font-family:'SF Pro Display','Inter','Segoe UI',system-ui,sans-serif;height:100%}
body{background:var(--bg);color:var(--text);font-family:'SF Pro Display','Inter','Segoe UI',system-ui,sans-serif;height:100%;overflow:hidden}
:focus-visible{outline:2px solid var(--accent);outline-offset:2px;border-radius:4px}
a{color:var(--accent);text-decoration:none}

/* ── Elegant Scrollbars ─────────────────────────────────────── */
.sidebar,.main,.ws-sidebar,.ws-content,.col-cards,.modal,.page{
  scrollbar-width:thin;scrollbar-color:transparent transparent;
}
.sidebar:hover,.main:hover,.ws-sidebar:hover,.ws-content:hover,.col-cards:hover,.modal:hover,.page:hover{
  scrollbar-color:rgba(255,255,255,0.2) transparent;
}
.sidebar::-webkit-scrollbar,.main::-webkit-scrollbar,.ws-sidebar::-webkit-scrollbar,.ws-content::-webkit-scrollbar,.col-cards::-webkit-scrollbar,.modal::-webkit-scrollbar,.page::-webkit-scrollbar{width:6px}
.sidebar::-webkit-scrollbar-track,.main::-webkit-scrollbar-track,.ws-sidebar::-webkit-scrollbar-track,.ws-content::-webkit-scrollbar-track,.col-cards::-webkit-scrollbar-track,.modal::-webkit-scrollbar-track,.page::-webkit-scrollbar-track{background:transparent}
.sidebar::-webkit-scrollbar-thumb,.main::-webkit-scrollbar-thumb,.ws-sidebar::-webkit-scrollbar-thumb,.ws-content::-webkit-scrollbar-thumb,.col-cards::-webkit-scrollbar-thumb,.modal::-webkit-scrollbar-thumb,.page::-webkit-scrollbar-thumb{background:rgba(255,255,255,0.15);border-radius:3px}
.sidebar::-webkit-scrollbar-thumb:hover,.main::-webkit-scrollbar-thumb:hover,.ws-sidebar::-webkit-scrollbar-thumb:hover,.ws-content::-webkit-scrollbar-thumb:hover,.col-cards::-webkit-scrollbar-thumb:hover,.modal::-webkit-scrollbar-thumb:hover,.page::-webkit-scrollbar-thumb:hover{background:rgba(255,255,255,0.35)}

/* ── Gold/Neon App Border ───────────────────────────────────── */
body{
  border:1px solid rgba(255,215,0,0.15);
  border-top:2px solid rgba(255,215,0,0.25);
  height:100vh;
  box-shadow:inset 0 0 60px rgba(0,188,212,0.03), 0 0 40px rgba(255,215,0,0.03);
  display:flex;flex-direction:column;
}

/* ── Top Navigation ─────────────────────────────────────────── */
.topnav{display:flex;align-items:center;padding:0 20px;height:52px;background:linear-gradient(180deg,var(--surface) 0%,rgba(34,34,34,0.98) 100%);border-bottom:1px solid var(--gold);border-bottom-color:rgba(255,215,0,0.2);position:sticky;top:0;z-index:100;box-shadow:0 1px 20px rgba(0,188,212,0.05)}
.topnav-left{display:flex;align-items:center;gap:10px;margin-right:24px}
.logo{font-size:1.3rem;filter:drop-shadow(0 0 6px rgba(255,215,0,0.4))}
.brand{font-size:1.05rem;font-weight:700;letter-spacing:-0.3px;white-space:nowrap;background:linear-gradient(135deg,var(--gold),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.topnav-tabs{display:flex;gap:2px;flex:1;overflow-x:auto;-webkit-overflow-scrolling:touch;scrollbar-width:thin;scrollbar-color:rgba(0,188,212,0.3) transparent}
.topnav-tabs::-webkit-scrollbar{height:3px}
.topnav-tabs::-webkit-scrollbar-track{background:transparent}
.topnav-tabs::-webkit-scrollbar-thumb{background:rgba(0,188,212,0.3);border-radius:2px}
.topnav-tabs::-webkit-scrollbar-thumb:hover{background:rgba(0,188,212,0.5)}
.topnav-tabs:hover,.topnav-tabs:focus-within{mask-image:none;-webkit-mask-image:none}
.topnav-tabs.has-overflow-right::after{content:'›';position:sticky;right:0;padding:0 4px;color:var(--accent);font-size:1.2rem;font-weight:700;opacity:.7;pointer-events:none;background:linear-gradient(to right,transparent,var(--surface) 40%)}
.topnav-tabs.has-overflow-left::before{content:'‹';position:sticky;left:0;padding:0 4px;color:var(--accent);font-size:1.2rem;font-weight:700;opacity:.7;pointer-events:none;background:linear-gradient(to left,transparent,var(--surface) 40%)}
.nav-tab{padding:8px 10px;border-radius:var(--radius);border:none;background:transparent;color:var(--muted);font-size:.82rem;cursor:pointer;font-weight:500;transition:all .15s;white-space:nowrap}
.nav-tab.active{background:var(--accent);color:#fff;box-shadow:0 0 12px rgba(0,188,212,0.3)}
.nav-tab:hover:not(.active){color:var(--text);background:var(--card)}
.topnav-right{display:flex;align-items:center;gap:6px;font-size:.82rem;color:var(--muted);margin-left:16px;white-space:nowrap}

/* ── Dot indicators ─────────────────────────────────────────── */
.dot{width:8px;height:8px;border-radius:50%;display:inline-block}
.dot-green{background:var(--green);box-shadow:0 0 6px var(--green)}
.dot-orange{background:var(--orange)}
.dot-red{background:var(--red)}

/* ── Buttons ────────────────────────────────────────────────── */
.btn{padding:8px 16px;border-radius:var(--radius);border:1px solid var(--border);background:var(--card);color:var(--text);font-size:.83rem;cursor:pointer;transition:all .15s}
.btn:hover{border-color:var(--border-hover);background:var(--card-hover)}
.btn-primary{background:var(--accent);border-color:var(--accent);color:#fff;font-weight:600;box-shadow:0 0 8px rgba(0,188,212,0.2)}
.btn-primary:hover{background:var(--accent-hover);box-shadow:0 0 14px rgba(0,188,212,0.3)}
.btn-sm{padding:4px 10px;font-size:.75rem}
.btn-danger{border-color:var(--red);color:var(--red)}
.btn-danger:hover{background:var(--red);color:#fff}

/* ── Pages ──────────────────────────────────────────────────── */
.page{display:none;padding:20px 24px;flex:1;overflow-y:auto;min-height:0;animation:pageIn .2s ease}
.page.active{display:flex;flex-direction:column}
@keyframes pageIn{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}
.page-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px;flex-wrap:wrap;gap:12px}
.page-header h2{font-size:1.3rem;font-weight:700;color:#fff}
.page-subtitle{font-size:.82rem;color:var(--muted);margin-top:2px}
.page-actions{display:flex;gap:8px}

/* ── Dashboard Layout ───────────────────────────────────────── */
.layout{display:flex;flex:1;overflow:hidden;min-height:0}
.sidebar{width:260px;min-width:260px;background:var(--surface);border-right:1px solid var(--border);padding:20px;overflow-y:auto;border-radius:var(--radius-lg)}
.sidebar h2{font-size:.85rem;font-weight:600;color:var(--muted);margin-bottom:16px;text-transform:uppercase;letter-spacing:1px}
.main{flex:1;overflow-y:auto;padding:0 0 0 20px;display:flex;flex-direction:column}

/* ── Agent Cards (sidebar) ──────────────────────────────────── */
.agent-card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:12px;margin-bottom:8px;transition:all .15s;overflow:hidden}
.agent-card:hover{border-color:var(--accent);box-shadow:0 0 8px rgba(0,188,212,0.1)}
.agent-top{display:flex;align-items:center;gap:8px;margin-bottom:6px;overflow:hidden;min-width:0}
.agent-emoji{font-size:1.2rem}
.agent-name{font-weight:600;font-size:.86rem;flex:1;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.agent-status{font-size:.64rem;padding:3px 9px;border-radius:10px;font-weight:600;text-transform:uppercase;letter-spacing:.3px;white-space:nowrap;flex-shrink:0;max-width:70px;overflow:visible}
.status-idle{background:rgba(0,188,212,.12);color:var(--accent)}
.status-busy{background:rgba(255,171,64,.12);color:var(--orange)}
.status-error{background:rgba(255,82,82,.12);color:var(--red)}
.agent-meta-model{font-size:.68rem;color:var(--muted);margin-top:4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.agent-meta{font-size:.7rem;color:var(--muted);display:flex;flex-direction:column;gap:2px;overflow:hidden}
.agent-meta span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}

/* ── Tabs ───────────────────────────────────────────────────── */
.tabs{display:flex;gap:4px;margin-bottom:16px}
.tab{padding:8px 16px;border-radius:var(--radius);border:none;background:transparent;color:var(--muted);font-size:.86rem;cursor:pointer;font-weight:500;transition:all .15s}
.tab.active{background:var(--card);color:var(--text);border-bottom:2px solid var(--accent)}
.tab:hover{color:var(--text)}
.tab-content{display:none}
.tab-content.active{display:flex;flex-direction:column;flex:1;min-height:0}

/* ── Kanban ─────────────────────────────────────────────────── */
.kanban{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;flex:1;min-height:0}
.kanban-col{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius-lg);padding:12px;display:flex;flex-direction:column;transition:border-color .2s}
.kanban-col:hover{border-color:rgba(255,255,255,0.12)}
.col-header{display:flex;align-items:center;gap:8px;font-size:.83rem;font-weight:600;margin-bottom:12px;padding-bottom:8px;border-bottom:1px solid var(--border)}
.col-dot{width:8px;height:8px;border-radius:50%;display:inline-block}
.col-count{margin-left:auto;background:var(--card);padding:2px 8px;border-radius:10px;font-size:.68rem;color:#ccc}
.col-cards{flex:1;display:flex;flex-direction:column;gap:8px;min-height:60px;transition:background .15s;border-radius:var(--radius);padding:4px;overflow-y:auto;position:relative}
.col-cards:not(:empty)::after{content:'';position:sticky;bottom:0;left:0;right:0;height:24px;background:linear-gradient(transparent,var(--surface));pointer-events:none;flex-shrink:0}
.col-cards.drag-over{background:rgba(0,188,212,.06);outline:2px dashed rgba(0,188,212,.3);outline-offset:-2px}
.col-empty{text-align:center;padding:24px 12px;color:var(--muted);font-size:.82rem;opacity:.8}

/* ── Task Cards ─────────────────────────────────────────────── */
.task-card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:12px;cursor:grab;transition:all .15s;position:relative}
.task-card:hover{border-color:var(--accent);transform:translateY(-1px);box-shadow:0 4px 12px rgba(0,0,0,.3)}
.task-card:active{cursor:grabbing}
.task-card.dragging{opacity:.5}
.task-title{font-size:.83rem;font-weight:600;margin-bottom:8px;line-height:1.3;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}
.task-meta{display:flex;flex-wrap:wrap;gap:6px;align-items:center}
.task-agent{font-size:.68rem;color:var(--accent);background:rgba(0,188,212,.1);padding:2px 8px;border-radius:8px}
.task-priority{font-size:.62rem;padding:2px 6px;border-radius:6px;font-weight:600;text-transform:uppercase}
.priority-critical{background:rgba(255,82,82,.15);color:var(--red)}
.priority-high{background:rgba(255,171,64,.15);color:var(--orange)}
.priority-medium{background:rgba(108,99,255,.15);color:var(--purple)}
.priority-low{background:rgba(136,136,136,.15);color:var(--muted)}
.task-time{font-size:.68rem;color:var(--muted)}
.task-duration{font-size:.68rem;color:var(--green)}
.task-model-cost{font-size:.68rem;color:var(--muted);margin-top:4px;font-family:monospace}

/* ── Activity Feed ──────────────────────────────────────────── */
.activity-header{margin-bottom:16px;display:flex;align-items:center;gap:12px}
.activity-header select{padding:8px 16px 8px 12px;border-radius:var(--radius);border:1px solid var(--border);background:var(--card);color:var(--text);font-size:.83rem;cursor:pointer;transition:border-color .15s;appearance:none;-webkit-appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23888' d='M2 4l4 4 4-4z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 10px center;padding-right:30px;min-width:180px}
.activity-header select:hover{border-color:var(--accent)}
.activity-header select:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 2px rgba(0,188,212,0.15)}
.activity-header::after{content:'Filter by agent';font-size:.7rem;color:var(--muted);text-transform:uppercase;letter-spacing:.5px;display:none}
.activity-item{display:flex;gap:12px;padding:14px 12px;border-bottom:1px solid var(--border);align-items:flex-start;transition:opacity .4s,transform .4s,background .4s}
.activity-item.activity-new{opacity:0;transform:translateY(-8px);background:rgba(0,188,212,0.06)}
.activity-item.act-fail{border-left:3px solid var(--red)}
.activity-item:hover{background:rgba(255,255,255,0.02)}
.activity-icon{width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1rem;background:var(--card);flex-shrink:0;border:2px solid var(--border)}
.activity-content{flex:1;min-width:0}
.activity-header-row{display:flex;align-items:center;gap:8px;flex-wrap:wrap;margin-bottom:4px}
.act-agent{font-size:.82rem;font-weight:700}
.act-label{font-size:.72rem;color:var(--muted);text-transform:uppercase;letter-spacing:.3px}
.activity-body{font-size:.83rem;line-height:1.5}
.act-task-title{font-weight:600;color:var(--text);margin-top:2px}
.act-task-ref{font-size:.72rem;color:var(--muted);margin-top:3px}
.act-detail-text{color:var(--muted);line-height:1.5}
.act-error-text{color:var(--red)}
.act-comment-body{background:var(--card);border-left:3px solid var(--accent);padding:8px 12px;border-radius:0 8px 8px 0;font-size:.82rem;line-height:1.5;color:var(--text);margin-top:4px;white-space:pre-wrap;word-break:break-word}
.act-arrow{color:var(--muted);font-size:.75rem;margin:0 2px}
.act-status-pill{font-size:.62rem;padding:2px 8px;border-radius:10px;font-weight:700;text-transform:uppercase;letter-spacing:.3px}
.act-status-todo{background:rgba(108,99,255,.15);color:#6c63ff}
.act-status-in_progress{background:rgba(255,171,64,.15);color:var(--orange)}
.act-status-review{background:rgba(224,64,251,.15);color:var(--pink)}
.act-status-done{background:rgba(0,230,118,.12);color:var(--green)}
.act-cron-badge{font-size:.68rem;padding:2px 8px;border-radius:8px;font-weight:600}
.act-cron-ok{background:rgba(0,230,118,.12);color:var(--green)}
.act-cron-fail{background:rgba(255,82,82,.12);color:var(--red)}
.act-cron-dur{font-size:.72rem;color:var(--accent);margin-left:8px;font-variant-numeric:tabular-nums}
.act-cron-name{font-weight:600;color:var(--text);margin-right:8px}
.activity-time{font-size:.68rem;color:var(--muted);white-space:nowrap;min-width:50px;text-align:right}
.activity-badge{font-size:.62rem;padding:2px 8px;border-radius:6px;font-weight:700}
.badge-success{background:rgba(0,230,118,.12);color:var(--green)}
.badge-fail{background:rgba(255,82,82,.12);color:var(--red)}

/* ── Stats Bar (Task Manager) ───────────────────────────────── */
.stats-bar{display:flex;gap:12px;margin-bottom:24px;flex-wrap:wrap}
.stat-card{display:flex;align-items:center;gap:12px;background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:16px 20px;flex:1;min-width:140px;transition:border-color .15s}
.stat-card:hover{border-color:var(--accent)}
.stat-dot{width:12px;height:12px;border-radius:50%;flex-shrink:0;box-shadow:0 0 6px currentColor}
.stat-info{display:flex;flex-direction:column}
.stat-number{font-size:1.5rem;font-weight:700;line-height:1;color:#fff}
.stat-label{font-size:.72rem;color:var(--muted);text-transform:uppercase;letter-spacing:.5px;margin-top:2px}

/* ── Agent Cards Row (Task Manager) ─────────────────────────── */
.agent-cards-row{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:16px}
.agent-card-lg{background:var(--card);border:1px solid var(--border);border-radius:var(--radius-lg);padding:20px;transition:all .15s}
.agent-card-lg:hover{border-color:var(--accent);box-shadow:0 0 20px rgba(0,188,212,.08)}
.agent-card-lg-top{display:flex;align-items:center;gap:12px;margin-bottom:16px}
.agent-avatar{width:48px;height:48px;border-radius:50%;background:var(--surface);display:flex;align-items:center;justify-content:center;font-size:1.5rem}
.agent-card-lg-info{flex:1}
.agent-card-lg-info h3{font-size:1rem;font-weight:600}
.agent-card-lg-info .model-tag{font-size:.68rem;color:var(--muted);margin-top:2px}
.agent-status-pill{font-size:.65rem;padding:4px 10px;border-radius:20px;font-weight:600;text-transform:uppercase}
.agent-card-lg-stats{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}
.agent-stat{text-align:center;padding:8px;background:var(--surface);border-radius:8px}
.agent-stat .num{font-size:1.1rem;font-weight:700;display:block}
.agent-stat .lbl{font-size:.65rem;color:var(--muted);text-transform:uppercase}

/* ── Org Chart ──────────────────────────────────────────────── */
.org-stats-bar{display:flex;gap:12px;margin-bottom:20px;padding:16px;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius-lg);flex-wrap:wrap;justify-content:center}
.org-stat-item{display:flex;align-items:center;gap:6px;font-size:.85rem;padding:4px 12px}
.org-stat-dot{width:10px;height:10px;border-radius:50%;flex-shrink:0}
.org-stat-label{color:var(--muted);font-size:.75rem}
.org-stat-value{font-weight:700;font-size:1.1rem}

.org-tree{display:flex;flex-direction:column;align-items:center;padding:20px 0}
.org-level{display:flex;justify-content:center;gap:20px;position:relative;margin-bottom:40px}
.org-connector{position:relative}
.org-connector::before{content:'';position:absolute;top:-20px;left:50%;width:2px;height:20px;background:var(--border-hover)}
.org-node{background:var(--card);border:1px solid var(--border);border-radius:var(--radius-lg);padding:16px 20px;text-align:center;min-width:180px;transition:all .15s;cursor:pointer}
.org-node:hover{border-color:var(--accent);box-shadow:0 0 16px rgba(0,188,212,.1)}
.org-node-avatar{width:48px;height:48px;border-radius:50%;margin:0 auto 8px;display:flex;align-items:center;justify-content:center;font-size:1.5rem;background:var(--surface)}
.org-node-name{font-weight:700;font-size:.95rem;color:#fff}
.org-node-role{font-size:.72rem;color:var(--muted);margin-top:2px}
.org-node-model{font-size:.62rem;color:var(--accent);margin-top:4px}
.org-node-status{display:flex;align-items:center;justify-content:center;gap:4px;margin-top:6px;font-size:.65rem}
.org-children{display:flex;justify-content:center;gap:20px;position:relative;padding-top:20px}
.org-children::before{content:'';position:absolute;top:0;left:20%;right:20%;height:2px;background:var(--border-hover)}
.org-children.collapsed{display:none}
.ws-files.collapsed{display:none}

/* ── Scheduled Tasks ────────────────────────────────────────── */
.scheduled-sections{display:flex;flex-direction:column;gap:24px}
.section-block{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius-lg);padding:20px}
.section-title{font-size:1rem;font-weight:600;margin-bottom:16px;color:#fff}
.job-row{display:flex;align-items:center;gap:12px;padding:12px;border-bottom:1px solid var(--border);transition:background .1s}
.job-row:last-child{border-bottom:none}
.job-row:hover{background:var(--card)}
.job-icon{font-size:1.2rem;width:36px;text-align:center}
.job-status-dot{width:10px;height:10px;border-radius:50%;flex-shrink:0}
.job-info{flex:1}
.job-title{font-weight:600;font-size:.88rem}
.job-desc{font-size:.72rem;color:var(--muted);margin-top:2px}
.job-schedule{font-size:.72rem;color:var(--accent);white-space:nowrap}
.job-agent-pill{font-size:.62rem;padding:3px 8px;border-radius:10px;background:rgba(0,188,212,.1);color:var(--accent);white-space:nowrap}
.log-entry{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:14px;margin-bottom:8px}
.log-entry-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px}
.log-entry-title{font-weight:600;font-size:.88rem}
.log-entry-tag{font-size:.62rem;padding:3px 8px;border-radius:10px;background:rgba(0,188,212,.1);color:var(--accent)}
.log-entry-body{font-size:.78rem;color:var(--muted);line-height:1.5}
.log-entry-time{font-size:.65rem;color:var(--muted);margin-top:6px}

/* ── Workspaces ─────────────────────────────────────────────── */
.workspace-layout{display:flex;flex:1;gap:0;border:1px solid var(--border);border-radius:var(--radius-lg);overflow:hidden;min-height:0}
.ws-sidebar{width:260px;min-width:260px;background:var(--surface);border-right:1px solid var(--border);overflow-y:auto;padding:16px}
.ws-section-title{font-size:.72rem;font-weight:600;color:#ccc;text-transform:uppercase;letter-spacing:1px;margin-bottom:12px}
.ws-agent{margin-bottom:12px}
.ws-agent-name{font-weight:600;font-size:.82rem;padding:6px 8px;border-radius:6px;cursor:pointer;display:flex;align-items:center;gap:6px;transition:background .1s}
.ws-agent-name:hover{background:var(--card)}
.ws-files{padding-left:20px;margin-top:4px}
.ws-file{font-size:.76rem;padding:5px 8px;border-radius:6px;cursor:pointer;color:var(--muted);transition:all .1s;display:flex;align-items:center;gap:4px}
.ws-file:hover{background:var(--card);color:var(--text)}
.ws-file.active{background:rgba(0,188,212,.1);color:var(--accent)}
.ws-content{flex:1;overflow-y:auto;padding:20px;background:var(--bg)}
.ws-placeholder{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;color:var(--muted)}
.ws-placeholder span{font-size:3rem;margin-bottom:12px}
.ws-file-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px;padding-bottom:12px;border-bottom:1px solid var(--border)}
.ws-file-title{font-weight:700;font-size:1rem}
.ws-file-meta{font-size:.72rem;color:var(--muted);display:flex;gap:12px;align-items:center}
.ws-file-content{font-family:'SF Mono','Fira Code','Consolas',monospace;font-size:.82rem;line-height:1.7;white-space:pre-wrap;word-break:break-word;color:var(--text)}
.ws-file-content h1,.ws-file-content h2,.ws-file-content h3{color:var(--accent);margin:16px 0 8px}
.ws-file-content code{background:var(--card);padding:2px 6px;border-radius:4px;font-size:.78rem}

/* ── Workspace Editor ───────────────────────────────────────── */
.ws-editor{width:100%;min-height:400px;padding:16px;border-radius:var(--radius);border:1px solid var(--border);background:var(--card);color:var(--text);font-family:'SF Mono','Fira Code','Consolas',monospace;font-size:.82rem;line-height:1.7;resize:vertical;outline:none}
.ws-editor:focus{border-color:var(--accent);box-shadow:0 0 0 2px rgba(0,188,212,0.15)}
.ws-editor-actions{display:flex;gap:8px;margin-top:12px}
.ws-save-indicator{font-size:.75rem;color:var(--green);margin-left:8px;opacity:0;transition:opacity .3s}
.ws-save-indicator.visible{opacity:1}

/* ── Standups ───────────────────────────────────────────────── */
.standup-list-item{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:16px;margin-bottom:8px;cursor:pointer;transition:all .15s}
.standup-list-item:hover{border-color:var(--accent)}
.standup-list-title{font-weight:600;font-size:.95rem}
.standup-list-date{font-size:.72rem;color:var(--muted);margin-top:2px}
.standup-list-participants{display:flex;gap:4px;margin-top:8px;flex-wrap:wrap}
.participant-pill{font-size:.62rem;padding:3px 10px;border-radius:20px;font-weight:600}
.pill-main{background:rgba(255,193,7,.15);color:#ffc107}
.pill-trading{background:rgba(0,230,118,.15);color:var(--green)}
.pill-it-support{background:rgba(0,176,255,.15);color:var(--blue)}
.pill-dev{background:rgba(0,188,212,.15);color:var(--accent)}
.pill-voice{background:rgba(224,64,251,.15);color:var(--pink)}
.pill-troubleshoot{background:rgba(255,82,82,.15);color:var(--red)}

.standup-thread{max-width:700px}
.standup-back{font-size:.82rem;color:var(--accent);cursor:pointer;margin-bottom:16px;display:inline-block}
.standup-back:hover{text-decoration:underline}
.standup-msg{display:flex;gap:12px;margin-bottom:16px;align-items:flex-start}
.standup-msg-avatar{width:36px;height:36px;border-radius:50%;background:var(--card);display:flex;align-items:center;justify-content:center;font-size:1rem;flex-shrink:0;border:2px solid var(--border)}
.standup-msg-content{flex:1;background:var(--surface);border:1px solid var(--border);border-radius:0 var(--radius-lg) var(--radius-lg) var(--radius-lg);padding:12px 16px}
.standup-msg-header{display:flex;align-items:center;gap:8px;margin-bottom:4px}
.standup-msg-name{font-weight:600;font-size:.85rem}
.standup-msg-time{font-size:.65rem;color:var(--muted)}
.standup-msg-body{font-size:.85rem;line-height:1.6;color:var(--text)}
.standup-msg-body.action-item{background:var(--card);border:1px solid var(--border);border-left:3px solid var(--accent);padding:8px 12px;border-radius:0 var(--radius) var(--radius) 0;margin-top:4px}
.action-checkbox{margin-right:8px;accent-color:var(--accent)}
.action-done{text-decoration:line-through;opacity:.6}

.standup-add-msg{display:flex;gap:8px;margin-top:16px;padding-top:16px;border-top:1px solid var(--border)}
.standup-add-msg select{padding:8px;border-radius:var(--radius);border:1px solid var(--border);background:var(--card);color:var(--text);font-size:.82rem}
.standup-add-msg input{flex:1;padding:8px 12px;border-radius:var(--radius);border:1px solid var(--border);background:var(--card);color:var(--text);font-size:.82rem}

/* ── Action Items ───────────────────────────────────────────── */
.action-section{margin-bottom:24px}
.action-section-title{font-size:.85rem;font-weight:600;color:var(--muted);text-transform:uppercase;letter-spacing:.5px;margin-bottom:12px;display:flex;align-items:center;gap:8px}
.action-item-row{display:flex;align-items:center;gap:12px;padding:12px 16px;background:var(--card);border:1px solid var(--border);border-radius:var(--radius);margin-bottom:6px;transition:all .15s}
.action-item-row:hover{border-color:var(--accent)}
.action-item-row.completed{opacity:.6}
.action-item-row.completed .action-item-text{text-decoration:line-through}
.action-item-check{width:20px;height:20px;accent-color:var(--accent);cursor:pointer;flex-shrink:0}
.action-item-text{flex:1;font-size:.88rem}
.action-item-assignee{font-size:.68rem;padding:3px 8px;border-radius:10px;white-space:nowrap}
.action-item-delete{background:none;border:none;color:var(--muted);cursor:pointer;font-size:.9rem;padding:4px;border-radius:4px}
.action-item-delete:hover{color:var(--red);background:rgba(255,82,82,.1)}

/* ── Docs ───────────────────────────────────────────────────── */
.docs-search-input{padding:8px 14px;border-radius:var(--radius);border:1px solid var(--border);background:var(--card);color:var(--text);font-size:.83rem;width:240px;transition:border-color .15s}
.docs-search-input:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 2px rgba(0,188,212,0.15)}
.doc-file-item{font-size:.82rem;padding:8px 10px;border-radius:6px;cursor:pointer;color:var(--muted);transition:all .1s;display:flex;align-items:center;gap:6px;margin-bottom:2px}
.doc-file-item:hover{background:var(--card);color:var(--text)}
.doc-file-item.active{background:rgba(0,188,212,.1);color:var(--accent)}
.doc-content{font-size:.88rem;line-height:1.8}
.doc-content h1{font-size:1.5rem;color:var(--accent);margin:20px 0 12px;border-bottom:1px solid var(--border);padding-bottom:8px}
.doc-content h2{font-size:1.2rem;color:var(--accent);margin:18px 0 10px}
.doc-content h3{font-size:1rem;color:var(--text);margin:14px 0 8px}
.doc-content code{background:var(--card);padding:2px 6px;border-radius:4px;font-family:'SF Mono','Fira Code',monospace;font-size:.82rem}
.doc-content pre{background:var(--card);padding:16px;border-radius:var(--radius);overflow-x:auto;margin:12px 0;border:1px solid var(--border)}
.doc-content pre code{background:none;padding:0}
.doc-content ul,.doc-content ol{padding-left:24px;margin:8px 0}
.doc-content li{margin-bottom:4px}
.doc-content blockquote{border-left:3px solid var(--accent);padding-left:16px;margin:12px 0;color:var(--muted)}
.doc-content a{color:var(--accent)}
.doc-content table{border-collapse:collapse;width:100%;margin:12px 0}
.doc-content th,.doc-content td{border:1px solid var(--border);padding:8px 12px;text-align:left}
.doc-content th{background:var(--card)}

/* ── Voice Placeholder ──────────────────────────────────────── */
.voice-placeholder{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;text-align:center}
.voice-icon-large{font-size:5rem;margin-bottom:20px;filter:drop-shadow(0 0 20px rgba(0,188,212,0.3))}
.voice-placeholder h3{font-size:1.5rem;margin-bottom:8px;color:var(--text)}
.voice-placeholder>p{color:var(--muted);max-width:400px;margin-bottom:32px}
.voice-features{display:grid;grid-template-columns:repeat(2,1fr);gap:16px;max-width:500px}
.voice-feature{display:flex;gap:12px;text-align:left;padding:16px;background:var(--card);border:1px solid var(--border);border-radius:var(--radius)}
.voice-feature span{font-size:1.5rem;flex-shrink:0}
.voice-feature strong{font-size:.88rem;display:block;margin-bottom:2px}
.voice-feature p{font-size:.75rem;color:var(--muted);margin:0}

/* ── Webcam Overlay ─────────────────────────────────────────── */
.webcam-overlay{display:none;position:fixed;bottom:16px;right:16px;z-index:99;width:100px;height:75px;border-radius:var(--radius);overflow:hidden;border:2px solid rgba(255,215,0,0.3);background:var(--card);box-shadow:0 4px 20px rgba(0,0,0,.4);cursor:pointer;transition:all .2s;opacity:.7}
.webcam-overlay:hover{border-color:var(--accent);transform:scale(1.05);opacity:1}
.webcam-placeholder{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;color:var(--muted)}
.webcam-placeholder span{font-size:1.2rem}
.webcam-placeholder small{font-size:.55rem;margin-top:2px}

/* ── Checkbox group ─────────────────────────────────────────── */
.checkbox-group{display:flex;flex-wrap:wrap;gap:8px;margin-top:4px}
.cb-label{font-size:.82rem;display:flex;align-items:center;gap:4px;cursor:pointer;padding:4px 8px;background:var(--card);border-radius:6px}
.cb-label input{accent-color:var(--accent)}

/* ── Modals ─────────────────────────────────────────────────── */
.modal-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,.65);z-index:200;justify-content:center;align-items:center;padding:20px;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px)}
.modal-overlay.open{display:flex}
.modal{background:var(--surface);border:1px solid rgba(255,215,0,0.15);border-radius:var(--radius-lg);max-width:700px;width:100%;max-height:85vh;overflow-y:auto;animation:modalIn .25s ease;box-shadow:0 0 40px rgba(0,188,212,0.1)}
/* ── Premium Detail Modal (Glass Morphism) ── */
.modal.premium-detail{
  border:1px solid rgba(0,188,212,0.3);
  border-top:1px solid rgba(0,188,212,0.5);
  box-shadow:0 0 80px rgba(0,188,212,0.12),0 0 160px rgba(0,188,212,0.04),0 25px 80px rgba(0,0,0,0.6),inset 0 1px 0 rgba(255,255,255,0.05);
  max-width:620px;
  background:linear-gradient(165deg, rgba(26,26,50,0.95) 0%, rgba(15,15,35,0.98) 100%);
  backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);
  border-radius:16px;
}
.modal.premium-detail .modal-header{
  border-bottom:1px solid rgba(0,188,212,0.1);
  padding:20px 28px 16px;position:sticky;top:0;
  background:linear-gradient(180deg, rgba(26,26,50,0.98) 0%, rgba(26,26,50,0.95) 100%);
  backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);
  z-index:10;flex-wrap:wrap;gap:8px;border-radius:16px 16px 0 0;
}
.modal.premium-detail .modal-header h2{font-size:1.2rem;font-weight:800;letter-spacing:-0.3px;line-height:1.35;color:#fff;flex:1;min-width:0}
.modal.premium-detail .modal-header .header-pills{display:flex;gap:6px;align-items:center;flex-shrink:0}
.modal.premium-detail .modal-body{padding:4px 28px 28px}
.modal.premium-detail .modal-header .status-pill{font-size:.6rem;padding:3px 10px;border-radius:12px;font-weight:700;text-transform:uppercase;letter-spacing:.5px;white-space:nowrap}
.modal.premium-detail .modal-header .status-pill.pill-live{background:rgba(0,230,118,.15);color:#00E676;border:1px solid rgba(0,230,118,.3);animation:livePulse 2s infinite}
.modal.premium-detail .modal-header .status-pill.pill-done{background:rgba(0,188,212,.12);color:var(--accent);border:1px solid rgba(0,188,212,.2)}
.modal.premium-detail .modal-header .status-pill.pill-todo{background:rgba(108,99,255,.15);color:#6c63ff;border:1px solid rgba(108,99,255,.3)}
.modal.premium-detail .modal-header .status-pill.pill-review{background:rgba(224,64,251,.15);color:#e040fb;border:1px solid rgba(224,64,251,.3)}
.modal.premium-detail .modal-header .status-pill.pill-priority{background:rgba(255,171,64,.12);color:#ffab40;border:1px solid rgba(255,171,64,.25)}
.modal.premium-detail .modal-close{width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:8px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.08);transition:all .2s;font-size:1rem}
.modal.premium-detail .modal-close:hover{background:rgba(255,255,255,0.1);border-color:rgba(0,188,212,0.3);color:#fff}
/* Status badge inside body — removed, using header pills only */
.premium-status-badge{display:none}
@keyframes livePulse{0%,100%{box-shadow:0 0 8px rgba(0,230,118,0.2)}50%{box-shadow:0 0 20px rgba(0,230,118,0.5)}}
/* Agent block */
.premium-agent{display:flex;align-items:center;gap:14px;margin:20px 0 22px;padding:14px 16px;background:linear-gradient(135deg,rgba(0,188,212,0.06) 0%,rgba(108,99,255,0.04) 100%);border:1px solid rgba(0,188,212,0.12);border-radius:12px}
.premium-agent-icon{width:42px;height:42px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:1.3rem;box-shadow:0 0 12px rgba(0,188,212,0.15)}
.premium-agent-name{font-size:1rem;font-weight:700;color:#fff}
.premium-agent-role{font-size:.7rem;color:rgba(0,188,212,0.7);text-transform:uppercase;letter-spacing:.8px;font-weight:600;margin-top:2px}
/* Stats grid */
.premium-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-bottom:22px}
.premium-stat{background:linear-gradient(135deg,rgba(255,255,255,0.03) 0%,rgba(255,255,255,0.01) 100%);border:1px solid rgba(255,255,255,0.06);border-radius:12px;padding:14px 16px;transition:all .25s ease;position:relative;overflow:hidden}
.premium-stat::before{content:'';position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,rgba(0,188,212,0.3),transparent);opacity:0;transition:opacity .25s}
.premium-stat:hover{border-color:rgba(0,188,212,0.2);background:linear-gradient(135deg,rgba(0,188,212,0.06) 0%,rgba(0,188,212,0.02) 100%)}
.premium-stat:hover::before{opacity:1}
.premium-stat .stat-icon{font-size:.9rem;margin-bottom:6px;filter:grayscale(0.2)}
.premium-stat .stat-label{font-size:.62rem;color:rgba(255,255,255,0.4);text-transform:uppercase;letter-spacing:.8px;margin-bottom:4px;font-weight:600}
.premium-stat .stat-value{font-size:.9rem;font-weight:700;color:#fff}
/* Session key */
.premium-session{font-family:'SF Mono',Consolas,monospace;font-size:.68rem;color:rgba(255,255,255,0.35);background:rgba(255,255,255,0.02);padding:10px 14px;border-radius:10px;word-break:break-all;border:1px solid rgba(255,255,255,0.04);margin-top:18px;cursor:pointer;transition:all .2s}
.premium-session:hover{color:rgba(255,255,255,0.6);background:rgba(255,255,255,0.04);border-color:rgba(0,188,212,0.15)}
/* Status action buttons */
.premium-actions{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:20px;padding-bottom:18px;border-bottom:1px solid rgba(255,255,255,0.06)}
.modal-sm{max-width:480px}
@keyframes modalIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
.modal-header{display:flex;align-items:center;justify-content:space-between;padding:20px 24px;border-bottom:1px solid var(--border)}
.modal-header h2{font-size:1.1rem;font-weight:600}
.modal-close{background:none;border:none;color:var(--muted);font-size:1.2rem;cursor:pointer;padding:4px 8px;border-radius:8px}
.modal-close:hover{background:var(--card);color:var(--text)}
.modal-body{padding:20px 24px}
.modal-body label{display:block;font-size:.78rem;color:var(--muted);margin-bottom:4px;margin-top:12px}
.modal-body label:first-child{margin-top:0}
.modal-body input,.modal-body textarea,.modal-body select{width:100%;padding:10px 12px;border-radius:var(--radius);border:1px solid var(--border);background:var(--card);color:var(--text);font-size:.86rem;font-family:inherit}
.modal-body input:focus,.modal-body textarea:focus,.modal-body select:focus{outline:none;border-color:var(--accent)}
.form-actions{display:flex;justify-content:flex-end;gap:8px;margin-top:20px;padding-top:16px;border-top:1px solid var(--border)}

/* ── Detail View ────────────────────────────────────────────── */
.detail-section{margin-bottom:24px}
.detail-section h3{font-size:.72rem;color:rgba(0,188,212,0.6);margin-bottom:14px;text-transform:uppercase;letter-spacing:1px;font-weight:700;display:flex;align-items:center;gap:8px}
.detail-section h3::after{content:'';flex:1;height:1px;background:linear-gradient(90deg,rgba(0,188,212,0.15),transparent)}
.detail-desc{font-size:.86rem;line-height:1.7;white-space:pre-wrap;word-break:break-word;background:linear-gradient(135deg,rgba(255,255,255,0.03),rgba(255,255,255,0.01));padding:16px 18px;border-radius:12px;border:1px solid rgba(255,255,255,0.05);color:rgba(255,255,255,0.85)}
.detail-meta{display:grid;grid-template-columns:repeat(2,1fr);gap:8px}
.detail-meta-item{background:var(--card);padding:10px 12px;border-radius:var(--radius)}
.detail-meta-item .label{font-size:.68rem;color:var(--muted);text-transform:uppercase;letter-spacing:.5px}
.detail-meta-item .value{font-size:.88rem;font-weight:600;margin-top:2px}
.detail-actions{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:16px}
.comment-item{padding:14px 16px;border-left:3px solid rgba(0,188,212,0.5);margin-bottom:8px;background:linear-gradient(135deg,rgba(255,255,255,0.03),rgba(255,255,255,0.01));border-radius:0 10px 10px 0;border:1px solid rgba(255,255,255,0.05);border-left:3px solid rgba(0,188,212,0.5)}
.comment-item.type-error{border-left-color:var(--red)}
.comment-item.type-log{border-left-color:var(--orange)}
.comment-item.type-status{border-left-color:var(--green)}
.comment-header{display:flex;justify-content:space-between;align-items:center;font-size:.72rem;color:var(--muted);margin-bottom:6px}
.comment-header .comment-agent{font-weight:600;color:var(--text)}
.comment-header .comment-type{padding:1px 8px;border-radius:10px;background:rgba(0,188,212,0.1);color:var(--accent);font-size:.65rem;text-transform:uppercase;letter-spacing:.4px;margin-left:6px}
.comment-content{font-size:.83rem;line-height:1.6;white-space:pre-wrap;color:var(--text)}
.history-list{position:relative;padding-left:18px}
.history-list::before{content:'';position:absolute;left:5px;top:4px;bottom:4px;width:2px;background:var(--border);border-radius:1px}
.history-item{position:relative;display:flex;align-items:baseline;gap:12px;padding:8px 0;font-size:.8rem}
.history-item::before{content:'';position:absolute;left:-15px;top:12px;width:8px;height:8px;border-radius:50%;background:var(--accent);border:2px solid var(--bg);z-index:1}
.history-item:last-child::before{background:var(--green)}
.history-time{color:var(--muted);font-size:.72rem;white-space:nowrap;min-width:55px}
.history-action{font-weight:600;color:var(--text)}
.history-detail{color:var(--muted);font-size:.78rem}

/* ── GPU Widget ─────────────────────────────────────────────── */
.gpu-widget{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:12px}
.gpu-loading{text-align:center;color:var(--text);font-size:.82rem;padding:12px;opacity:.7}
.gpu-row{display:flex;justify-content:space-between;align-items:center;padding:4px 0;font-size:.78rem}
.gpu-label{color:var(--muted)}
.gpu-value{font-weight:600;font-variant-numeric:tabular-nums}
.gpu-bar-wrap{height:6px;background:var(--surface);border-radius:3px;margin-top:6px;overflow:hidden}
.gpu-bar{height:100%;border-radius:3px;transition:width .5s ease}
.gpu-indicator-green{color:var(--green)}
.gpu-indicator-yellow{color:var(--orange)}
.gpu-indicator-red{color:var(--red)}
.gpu-sparkline{display:flex;align-items:flex-end;gap:1px;height:32px;margin-top:8px}
.gpu-spark-bar{flex:1;min-width:1px;background:var(--accent);border-radius:1px 1px 0 0;opacity:.7;transition:height .3s ease}

/* ── Responsive ─────────────────────────────────────────────── */
@media(max-width:1200px){
  html{height:auto!important;min-height:100vh!important;overflow-y:scroll!important;overflow-x:hidden!important;-webkit-overflow-scrolling:touch!important}
  body{height:auto!important;min-height:100vh!important;overflow:visible!important;display:block!important;-webkit-overflow-scrolling:touch!important;border:none!important}
  .page{overflow-y:visible;flex:none;padding:16px}
  .page.active{display:flex;flex-direction:column;flex:none}
  .layout{overflow:visible!important;flex:none!important}
  .main{overflow-y:visible!important;flex:none!important;height:auto!important;padding-left:0!important}
  .kanban{grid-template-columns:repeat(4,1fr);flex:none;min-height:auto!important;overflow:visible!important}
  .kanban-col{min-height:auto}
  .col-cards{max-height:none!important;overflow-y:visible!important}
  .agent-cards-row{grid-template-columns:repeat(auto-fill,minmax(260px,1fr))}
  .voice-features{grid-template-columns:1fr}
  .layout{flex-direction:column!important;height:auto!important}
  .sidebar{width:100%!important;min-width:100%!important;border-right:none;border-bottom:1px solid var(--border);max-height:none!important;overflow-y:visible!important;-webkit-overflow-scrolling:touch!important;position:relative;padding:10px}
  .sidebar h2{display:inline-block;font-size:.75rem;margin-bottom:8px;margin-right:12px}
  .sidebar h2:nth-of-type(2),.sidebar h2:nth-of-type(3){font-size:.7rem;margin-top:10px}
  #agentsList{display:flex;gap:8px;overflow-x:auto;padding-bottom:12px;-webkit-overflow-scrolling:touch;flex-wrap:nowrap;scrollbar-width:thin;scrollbar-color:rgba(0,188,212,0.5) rgba(0,0,0,0.2)}
  #agentsList::-webkit-scrollbar{height:6px}
  #agentsList::-webkit-scrollbar-track{background:rgba(0,0,0,0.2);border-radius:3px}
  #agentsList::-webkit-scrollbar-thumb{background:rgba(0,188,212,0.5);border-radius:3px}
  #agentsList::-webkit-scrollbar-thumb:hover{background:rgba(0,188,212,0.7)}
  .agent-card{min-width:190px;max-width:200px;flex-shrink:0}
  .tab-content.active{min-height:auto;flex:none}
  .scheduled-sections,.workspace-layout{min-height:auto}
  /* Nav tabs compact */
  .nav-tab{padding:7px 10px;font-size:.76rem;white-space:nowrap}
  /* Stats bar fix — ensure visible with proper padding */
  .stats-bar{flex-wrap:wrap;gap:8px;margin-bottom:16px;padding-top:0}
  .stat-card{min-width:120px;padding:12px 14px;flex:1 1 calc(33% - 8px)}
  .stat-number{font-size:1.2rem}
  /* Org chart responsive */
  .org-children{flex-wrap:wrap;gap:16px;padding-top:10px;justify-content:center}
  .org-children::before{display:none}
  .org-connector::before{display:none}
  .org-node{min-width:140px;max-width:200px;padding:12px 14px}
  .org-tree{padding:10px 0 40px}
  .org-level{margin-bottom:20px}
  /* Workspace layout on tablet */
  .workspace-layout{flex-direction:column;height:auto}
  .ws-sidebar{width:100%!important;min-width:100%!important;max-height:250px;overflow-y:auto;border-right:none;border-bottom:1px solid var(--border)}
  /* Job descriptions — allow wrapping */
  .job-desc{white-space:normal;word-break:break-word;max-width:100%}
  .job-info{min-width:0;overflow:hidden}
  .job-row{flex-wrap:wrap}
  /* Activity feed touch optimization */
  .activity-item{padding:16px 12px}
  /* Premium grid on tablet */
  .premium-grid{grid-template-columns:repeat(2,1fr)}
  /* Modal width on tablet */
  .modal{max-width:90vw}
  .modal.premium-detail{max-width:90vw}
  /* System & GPU widgets side by side */
  .sidebar-widgets{display:flex;gap:12px}
  .sidebar-widget-col{flex:1;min-width:0}
  .sidebar-widget-col h2{margin-top:10px!important;font-size:.7rem}
}
@media(max-width:768px){
  .layout{flex-direction:column;height:auto}
  .sidebar{width:100%;min-width:100%;border-right:none;border-bottom:1px solid var(--border);max-height:200px;overflow-y:auto;overflow-x:auto;padding:10px}
  .sidebar h2{display:none}
  /* Widgets stay visible on mobile too — side by side */
  .sidebar-widgets{display:flex;gap:8px}
  .sidebar-widget-col{flex:1;min-width:0}
  .sidebar-widget-col h2{margin-top:8px!important;font-size:.65rem}
  #agentsList{display:flex;gap:8px;overflow-x:auto;padding-bottom:8px;-webkit-overflow-scrolling:touch;scroll-snap-type:x mandatory}
  
  .agent-card{min-width:160px;max-width:160px;flex-shrink:0;scroll-snap-align:start;font-size:.78rem}
  .agent-card .agent-name{font-size:.8rem}
  .agent-card .agent-token-row,.agent-card .agent-meta-model,.agent-card .agent-meta{font-size:.65rem}
  .agent-card .agent-token-value{font-size:.65rem}
  .kanban{grid-template-columns:1fr}
  .topnav{flex-wrap:wrap;height:auto;padding:8px 12px}
  .topnav-left{margin-right:8px}
  .topnav-right{order:2;margin-left:auto}
  .topnav-tabs{order:3;width:100%;overflow-x:auto;padding-top:4px;-webkit-overflow-scrolling:touch}
  .nav-tab{font-size:.75rem;padding:6px 10px;flex-shrink:0}
  .stats-bar{flex-direction:column}
  .workspace-layout{flex-direction:column;height:auto}
  .ws-sidebar{width:100%;min-width:100%;max-height:200px;border-right:none;border-bottom:1px solid var(--border)}
  .org-level{flex-direction:column;align-items:center}
  .webcam-overlay{width:70px;height:52px}
  .webcam-placeholder span{font-size:.9rem}
  .modal{max-width:95vw;max-height:90vh}
  .modal.premium-detail{max-width:95vw}
  .premium-grid{grid-template-columns:repeat(2,1fr)}
}
@media(max-width:480px){
  .topnav-left{margin-right:8px}
  .brand{display:none}
  .nav-tab{font-size:.72rem;padding:6px 8px}
  .topnav-right{margin-left:8px}
  .webcam-overlay{display:none}
}

/* ── Live Data Styles ──────────────────────────────────── */
.agent-token-row{display:flex;justify-content:space-between;font-size:.7rem;color:var(--muted);margin-top:4px;padding:0 2px}
.agent-token-label{opacity:.7}
.agent-token-value{font-family:monospace;color:var(--text)}
.agent-ctx-bar,.agent-ctx-bar-lg{height:4px;background:var(--border);border-radius:2px;margin-top:3px;overflow:hidden}
.agent-ctx-bar-lg{height:6px;margin:4px 12px 8px}
.agent-ctx-fill{height:100%;border-radius:2px;transition:width .5s ease}
.agent-ctx-row{display:flex;justify-content:space-between;font-size:.75rem;padding:8px 12px 0;color:var(--muted)}

/* Live task cards */
.task-live-badge{font-size:.6rem;font-weight:700;color:var(--green);letter-spacing:.5px;margin-bottom:2px}
.task-live-badge.badge-done{color:var(--accent)}
.task-live-badge.badge-review{color:var(--pink)}
.live-task{border-left:3px solid var(--green) !important}
.live-task.live-pulse{animation:livePulse 2s ease-in-out infinite}
@keyframes livePulse{0%,100%{border-left-color:var(--green)}50%{border-left-color:var(--orange)}}
.task-tokens{font-size:.65rem;color:var(--muted);font-family:monospace}

/* ── Real Scheduled Tasks Styles ──────────────────────── */
.job-run-info{font-size:.65rem;color:var(--muted);margin-top:2px}
.job-onetime-badge{font-size:.55rem;font-weight:700;color:var(--orange);background:rgba(255,171,64,.15);padding:1px 5px;border-radius:3px;margin-left:6px;vertical-align:middle}
.log-entry-icon{margin-right:6px}
.log-fail-badge{font-size:.55rem;font-weight:700;color:var(--red);background:rgba(255,82,82,.15);padding:1px 5px;border-radius:3px;margin-left:6px}

.live-source-badge{display:inline-flex;align-items:center;gap:4px;padding:4px 12px;border-radius:8px;font-size:.78rem;font-weight:600;background:rgba(0,188,212,0.1);color:var(--accent);border:1px solid rgba(0,188,212,0.2)}

/* Attachments */
.attachments-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(110px,1fr));gap:10px;margin-top:8px}
.attachment-thumb{position:relative;border-radius:10px;overflow:hidden;border:1px solid var(--border);cursor:pointer;transition:border-color .2s,transform .15s;aspect-ratio:1;background:var(--card)}
.attachment-thumb:hover{border-color:var(--accent);transform:scale(1.03)}
.attachment-thumb img{width:100%;height:100%;object-fit:cover;display:block}
.attachment-name{position:absolute;bottom:0;left:0;right:0;padding:4px 6px;font-size:.6rem;background:linear-gradient(transparent,rgba(0,0,0,.8));color:#fff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.attachment-broken{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;font-size:.7rem;color:var(--muted);text-align:center;padding:8px}

/* Lightbox */
.lightbox-overlay{position:fixed;inset:0;z-index:10000;background:rgba(0,0,0,.92);backdrop-filter:blur(12px);display:flex;align-items:center;justify-content:center;opacity:0;pointer-events:none;transition:opacity .25s}
.lightbox-overlay.open{opacity:1;pointer-events:auto}
.lightbox-content{position:relative;max-width:92vw;max-height:92vh}
.lightbox-content img{max-width:92vw;max-height:88vh;object-fit:contain;border-radius:8px;box-shadow:0 0 60px rgba(0,188,212,.15)}
.lightbox-close{position:absolute;top:-12px;right:-12px;width:32px;height:32px;border-radius:50%;border:none;background:var(--card);color:var(--text);font-size:1rem;cursor:pointer;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 12px rgba(0,0,0,.4)}
.lightbox-close:hover{background:var(--red);color:#fff}

/* Sub-agent badges */
.agent-subagent-row{color:#e040fb !important;cursor:pointer;transition:background .15s}
.agent-subagent-row:hover{background:rgba(224,64,251,.1);border-radius:4px}
.agent-subagent-row span{color:#e040fb;font-size:.75rem}
.agent-subagent-badge{margin-top:8px;padding:4px 10px;background:rgba(224,64,251,.1);border:1px solid rgba(224,64,251,.25);border-radius:6px;color:#e040fb;font-size:.75rem;text-align:center;cursor:pointer;transition:background .15s,border-color .15s}
.agent-subagent-badge:hover{background:rgba(224,64,251,.2);border-color:rgba(224,64,251,.5)}
.org-node-subagents{font-size:.72rem;color:#e040fb;margin-top:2px;cursor:pointer;transition:opacity .15s}
.org-node-subagents:hover{opacity:.7}

/* Sub-agent modal */
.modal-md{width:600px;max-width:95vw;max-height:85vh}
.subagent-summary{display:flex;gap:16px;padding:10px 0 14px;border-bottom:1px solid var(--border);margin-bottom:12px;flex-wrap:wrap}
.subagent-summary-item{display:flex;align-items:center;gap:5px;font-size:.8rem;color:var(--muted)}
.subagent-dot{width:8px;height:8px;border-radius:50%;display:inline-block}
.subagent-dot.dot-active{background:#ffab40;box-shadow:0 0 6px #ffab40}
.subagent-dot.dot-done{background:#00E676;box-shadow:0 0 6px #00E676}
.subagent-list{display:flex;flex-direction:column;gap:8px;max-height:55vh;overflow-y:auto;padding-right:4px}
.subagent-row{padding:12px 14px;background:var(--card);border:1px solid var(--border);border-radius:8px;cursor:pointer;transition:border-color .15s,background .15s,transform .1s}
.subagent-row:hover{border-color:var(--accent);background:rgba(0,188,212,.04);transform:translateX(2px)}
.subagent-row.subagent-running{border-left:3px solid #ffab40}
.subagent-row.subagent-review{border-left:3px solid #e040fb}
.subagent-row.subagent-done{border-left:3px solid #00E676}
.subagent-row-top{display:flex;align-items:center;gap:10px;margin-bottom:6px;flex-wrap:wrap}
.subagent-status-badge{font-size:.7rem;padding:2px 8px;border-radius:10px;font-weight:600}
.subagent-status-badge.status-running{background:rgba(255,171,64,.15);color:#ffab40}
.subagent-status-badge.status-review{background:rgba(224,64,251,.15);color:#e040fb}
.subagent-status-badge.status-done{background:rgba(0,230,118,.12);color:#00E676}
.subagent-dur{font-size:.75rem;color:var(--accent);font-variant-numeric:tabular-nums}
.subagent-time{font-size:.7rem;color:var(--muted);margin-left:auto}
.subagent-row-title{font-size:.84rem;color:var(--text);line-height:1.4;margin-bottom:6px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}
.subagent-row-stats{display:flex;gap:14px;font-size:.72rem;color:var(--muted)}
.subagent-footer{display:flex;gap:20px;padding:12px 0 4px;border-top:1px solid var(--border);margin-top:12px;font-size:.78rem;color:var(--muted);justify-content:center}
.subagent-type-badge{font-size:.68rem;padding:2px 7px;border-radius:8px;background:rgba(108,99,255,.12);color:#b0a8ff}
.subagent-session-key{font-size:.65rem;color:var(--muted);opacity:.6;font-family:monospace}
.subagent-row.clickable{cursor:pointer}
.subagent-row:not(.clickable){cursor:default;opacity:.85}
.subagent-row:not(.clickable):hover{border-color:var(--border);background:var(--card);transform:none}
.agent-card-lg{cursor:pointer;transition:border-color .15s,transform .1s}
.agent-card-lg:hover{border-color:var(--accent);transform:translateY(-2px)}

/* ── Scrollable Lists (constrained height + elegant scrollbar) ── */
.col-cards{max-height:calc(100vh - 280px)}
#col-done{max-height:calc(100vh - 280px)}
.detail-section .comment-item:first-child{margin-top:0}
.comments-scroll,.history-scroll,.subagent-scroll,.activity-scroll,.overnight-scroll{
  max-height:400px;overflow-y:auto;
  scrollbar-width:thin;scrollbar-color:transparent transparent;
}
.comments-scroll:hover,.history-scroll:hover,.subagent-scroll:hover,.activity-scroll:hover,.overnight-scroll:hover{
  scrollbar-color:rgba(0,255,200,0.3) transparent;
}
.comments-scroll::-webkit-scrollbar,.history-scroll::-webkit-scrollbar,.subagent-scroll::-webkit-scrollbar,.activity-scroll::-webkit-scrollbar,.overnight-scroll::-webkit-scrollbar{width:6px}
.comments-scroll::-webkit-scrollbar-thumb,.history-scroll::-webkit-scrollbar-thumb,.subagent-scroll::-webkit-scrollbar-thumb,.activity-scroll::-webkit-scrollbar-thumb,.overnight-scroll::-webkit-scrollbar-thumb{background:transparent;border-radius:3px}
.comments-scroll:hover::-webkit-scrollbar-thumb,.history-scroll:hover::-webkit-scrollbar-thumb,.subagent-scroll:hover::-webkit-scrollbar-thumb,.activity-scroll:hover::-webkit-scrollbar-thumb,.overnight-scroll:hover::-webkit-scrollbar-thumb{background:rgba(0,255,200,0.3)}

/* Review approve/reject buttons */
.task-review-actions { display:flex; gap:10px; margin-top:8px; }
.btn-approve, .btn-reject { flex:1; padding:10px 10px; border:none; border-radius:6px; cursor:pointer; font-size:.78rem; font-weight:600; transition:all .15s; min-height:44px; }
.btn-approve { background:#22c55e22; color:#22c55e; border:1px solid #22c55e44; }
.btn-approve:hover { background:#22c55e; color:#fff; box-shadow:0 0 20px rgba(34,197,94,0.3); }
.btn-reject { background:#f59e0b22; color:#f59e0b; border:1px solid #f59e0b44; }
.btn-reject:hover { background:#f59e0b; color:#fff; box-shadow:0 0 20px rgba(245,158,11,0.3); }
/* Premium modal approve/reject */
.modal.premium-detail .btn-approve,.modal.premium-detail .btn-reject{border-radius:10px;font-size:.85rem;padding:12px 28px;font-weight:700;letter-spacing:.3px;transition:all .25s}
.modal.premium-detail .task-review-actions{gap:12px;margin-top:4px;padding:16px 0}

/* ══════════════════════════════════════════════════════════════ */
/* REPORTS                                                       */
/* ══════════════════════════════════════════════════════════════ */
.reports-filter-bar{display:flex;gap:8px;margin-bottom:16px;flex-wrap:wrap;align-items:center}
.reports-search-input{padding:8px 14px;border-radius:var(--radius);border:1px solid var(--border);background:var(--card);color:var(--text);font-size:.83rem;width:220px;transition:border-color .15s}
.reports-search-input:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 2px rgba(0,188,212,0.15)}
.reports-filter-bar select,.reports-filter-bar input[type="date"]{padding:8px 10px;border-radius:var(--radius);border:1px solid var(--border);background:var(--card);color:var(--text);font-size:.82rem;cursor:pointer}
.reports-filter-bar select:focus,.reports-filter-bar input[type="date"]:focus{outline:none;border-color:var(--accent)}
.reports-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:16px}
.report-card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius-lg);padding:18px 20px;cursor:pointer;transition:all .2s;position:relative;overflow:hidden}
.report-card::before{content:'';position:absolute;top:0;left:0;right:0;height:2px;background:linear-gradient(90deg,var(--accent),var(--pink));opacity:0;transition:opacity .2s}
.report-card:hover{border-color:var(--accent);transform:translateY(-2px);box-shadow:0 8px 24px rgba(0,188,212,.1)}
.report-card:hover::before{opacity:1}
.report-card-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}
.report-source-icon{font-size:1.1rem}
.report-card-date{font-size:.72rem;color:var(--muted)}
.report-card-title{font-size:.95rem;font-weight:700;margin-bottom:6px;line-height:1.3}
.report-card-author{font-size:.78rem;color:var(--accent);margin-bottom:8px}
.report-card-tags{display:flex;flex-wrap:wrap;gap:4px}
.report-tag-pill{font-size:.62rem;padding:3px 8px;border-radius:10px;font-weight:600;background:rgba(0,188,212,.12);color:var(--accent);border:1px solid rgba(0,188,212,.2)}
.report-tag-pill:nth-child(2n){background:rgba(224,64,251,.1);color:var(--pink);border-color:rgba(224,64,251,.2)}
.report-tag-pill:nth-child(3n){background:rgba(255,171,64,.1);color:var(--orange);border-color:rgba(255,171,64,.2)}
.report-tag-pill:nth-child(5n){background:rgba(0,230,118,.1);color:var(--green);border-color:rgba(0,230,118,.2)}

/* Report Detail */
.md-table{width:100%;border-collapse:collapse;margin:12px 0;font-size:.85rem}
.md-table th,.md-table td{border:1px solid var(--border);padding:6px 10px;text-align:left}
.md-table th{background:var(--surface);color:var(--accent);font-weight:600}
.md-table tr:nth-child(even) td{background:rgba(255,255,255,.03)}
.report-detail-layout{display:flex;gap:24px}
.report-detail-main{flex:1;min-width:0}
.report-detail-sidebar{width:260px;flex-shrink:0;position:sticky;top:16px;align-self:flex-start}
.report-meta-block{background:var(--card);border:1px solid var(--border);border-radius:var(--radius-lg);padding:16px;margin-bottom:12px}
.report-meta-row{display:flex;flex-direction:column;gap:2px;padding:8px 0;border-bottom:1px solid var(--border);font-size:.82rem}
.report-meta-row:last-child{border-bottom:none}
.report-meta-label{font-size:.68rem;color:var(--muted);text-transform:uppercase;letter-spacing:.5px;font-weight:600}
.report-actions{display:flex;flex-direction:column;gap:6px}
.report-actions .btn{text-align:center;text-decoration:none}
.report-screenshots-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:10px}
.report-screenshot{border-radius:var(--radius);overflow:hidden;border:1px solid var(--border);cursor:pointer;transition:border-color .2s}
.report-screenshot:hover{border-color:var(--accent)}
.report-screenshot img{width:100%;display:block;object-fit:cover;aspect-ratio:16/9}

@media(max-width:900px){
  .report-detail-layout{flex-direction:column}
  .report-detail-sidebar{width:100%}
  .report-actions{flex-direction:row;flex-wrap:wrap}
  .reports-grid{grid-template-columns:repeat(auto-fill,minmax(260px,1fr))}
}
@media(max-width:768px){
  .reports-filter-bar{flex-direction:column}
  .reports-search-input{width:100%}
  .reports-grid{grid-template-columns:1fr}
}


/* Task ID badge */
.task-id {
  display: inline-block;
  background: rgba(255,255,255,0.1);
  color: var(--text-dim, #888);
  font-size: 0.7rem;
  font-weight: 600;
  font-family: monospace;
  padding: 1px 5px;
  border-radius: 3px;
  margin-right: 4px;
  vertical-align: middle;
}
/* ══════════════════════════════════════════════════════════════ */
/* Mission Control - Minimal Targeted Fixes (2026-02-15)        */
/* ══════════════════════════════════════════════════════════════ */

/* FIX 1: Text Contrast - Strengthen muted text globally */
:root {
  --text: #f0f0f0;
  --muted: #aaa;
}

/* FIX 2: Agent Cards Horizontal Scroll Indicator (Tablet 1080px) */
@media (max-width: 1200px) {
  #agentsList {
    position: relative;
    padding-right: 50px;
  }
  
  #agentsList::after {
    content: '→';
    position: absolute;
    right: 8px;
    top: 50%;
    transform: translateY(-50%);
    background: rgba(0, 188, 212, 0.85);
    color: #fff;
    padding: 6px 12px;
    border-radius: 6px;
    font-size: 0.9rem;
    font-weight: 700;
    pointer-events: none;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
    z-index: 10;
  }
}

/* FIX 3: Kanban - Keep 4-column horizontal on tablet (1080px+), only go 2-column on smaller screens */
@media (max-width: 1200px) and (min-width: 900px) {
  .kanban {
    grid-template-columns: repeat(4, 1fr) !important;
  }
}
@media (max-width: 899px) and (min-width: 769px) {
  .kanban {
    grid-template-columns: repeat(2, 1fr) !important;
  }
}

/* FIX 4: Empty State Improvements */
.col-empty {
  color: #999 !important;
  font-size: 0.82rem;
}

/* FIX 5: Column Count Badge Visibility */
.col-count {
  background: rgba(0, 188, 212, 0.15);
  color: #fff;
  font-weight: 700;
}

/* FIX 6: Active Tab Visibility */
.tab.active {
  background: rgba(0, 188, 212, 0.12);
  color: #fff;
  font-weight: 700;
  border-bottom: 3px solid var(--accent);
}

.tab:not(.active) {
  color: #999;
}

/* FIX 7: Page Header */
.page-header h2 {
  color: #fff !important;
}

/* FIX 8: GPU/System Widget Error States */
.gpu-error {
  color: #ff8888;
  font-weight: 600;
}

.gpu-loading {
  color: #999;
}

/* FIX 9: Agent Status Badge Contrast */
.status-idle {
  background: rgba(0, 188, 212, 0.18);
  color: #00e5ff;
}

.status-busy {
  background: rgba(255, 171, 64, 0.18);
  color: #ffcc73;
}

/* FIX 10: Sidebar Scrollbar Visibility */
.sidebar::-webkit-scrollbar-thumb {
  background: rgba(0, 188, 212, 0.25);
}

.sidebar:hover::-webkit-scrollbar-thumb {
  background: rgba(0, 188, 212, 0.4);
}
/* ══════════════════════════════════════════════════════════════ */
/* Final Polish - Text Contrast Fixes (2026-02-15)              */
/* ══════════════════════════════════════════════════════════════ */

/* Dashboard & Section Headers - Brighten */
.page-header h2,
.sidebar h2,
.ws-section-title,
.section-title {
  color: #ddd !important;
}

/* Empty State Text - Improve Visibility */
.col-empty {
  color: #aaa !important;
  opacity: 0.9 !important;
}

/* Loading State Text - Improve Visibility */
.gpu-loading {
  color: #aaa !important;
}

/* Agent Meta Text - Final Boost */
.agent-meta,
.agent-meta span {
  color: #bbb !important;
}

/* Task Metadata - Final Boost */
.task-time,
.task-tokens,
.task-model-cost {
  color: #bbb !important;
}

/* Top Nav Status - Brighten */
.topnav-right {
  color: #ddd !important;
}
/* ══════════════════════════════════════════════════════════════ */
/* Mission Control - Comprehensive Fixes (2026-02-15 6AM)       */
/* ══════════════════════════════════════════════════════════════ */

/* FIX 1: Global Text Contrast - WCAG AA Compliance */
:root {
  --text: #f0f0f0;
  --muted: #bbb;
}

/* Page headers, section titles - high contrast */
.page-header h2,
.sidebar h2,
.ws-section-title,
.section-title,
.standup-msg-name,
.report-card-title {
  color: #fff !important;
  font-weight: 700 !important;
}

/* Body text - improve from #999 to #bbb */
.agent-meta,
.agent-meta span,
.task-time,
.task-duration,
.task-model-cost,
.gpu-label,
.gpu-value,
.stat-label,
.job-desc,
.report-card-date,
.activity-time {
  color: #bbb !important;
}

/* Muted text - lighter gray */
.page-subtitle,
.topnav-right,
.col-header,
.tab:not(.active),
.log-entry-time {
  color: #aaa !important;
}

/* Empty state text - readable */
.col-empty,
.ws-placeholder,
.gpu-loading {
  color: #aaa !important;
  opacity: 1 !important;
}

/* FIX 2: Top Nav - Fix Overflow & Truncation */
.topnav-tabs {
  flex: 1;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scrollbar-color: rgba(255, 255, 255, 0.2) transparent;
  /* Remove mask so all tabs are always visible */
  mask-image: none !important;
  -webkit-mask-image: none !important;
}

.topnav-tabs::-webkit-scrollbar {
  height: 3px;
}

.topnav-tabs::-webkit-scrollbar-track {
  background: transparent;
}

.topnav-tabs::-webkit-scrollbar-thumb {
  background: rgba(0, 188, 212, 0.3);
  border-radius: 2px;
}

.topnav-tabs::-webkit-scrollbar-thumb:hover {
  background: rgba(0, 188, 212, 0.5);
}

.nav-tab {
  flex-shrink: 0;
  white-space: nowrap;
}

/* Remove overflow indicators that hide content */
.topnav-tabs.has-overflow-right::after,
.topnav-tabs.has-overflow-left::before {
  display: none !important;
}

/* FIX 3: Tab Styling - Improve Active/Inactive Contrast */
.tab.active {
  background: rgba(0, 188, 212, 0.15);
  color: #fff;
  font-weight: 700;
  border-bottom: 3px solid var(--accent);
}

.tab:not(.active) {
  color: #999;
}

.tab:hover:not(.active) {
  color: #fff;
  background: rgba(255, 255, 255, 0.05);
}

/* FIX 4: Column Header Contrast */
.col-header {
  color: #fff !important;
  font-weight: 600;
}

.col-dot {
  box-shadow: 0 0 8px currentColor;
}

.col-count {
  background: rgba(0, 188, 212, 0.2);
  color: #fff;
  font-weight: 700;
}

/* FIX 5: Agent Status Badges - Higher Contrast */
.status-idle {
  background: rgba(0, 188, 212, 0.2);
  color: #00e5ff;
  font-weight: 700;
}

.status-busy {
  background: rgba(255, 171, 64, 0.2);
  color: #ffcc73;
  font-weight: 700;
}

.status-active {
  background: rgba(0, 230, 118, 0.2);
  color: #00ff7f;
  font-weight: 700;
}

.status-error {
  background: rgba(255, 82, 82, 0.2);
  color: #ff9999;
  font-weight: 700;
}

/* FIX 6: GPU/System Widget Error States - High Visibility */
.gpu-error {
  color: #ff8888;
  font-weight: 700;
  text-align: center;
  padding: 12px;
  background: rgba(255, 82, 82, 0.1);
  border-radius: 6px;
}

.gpu-loading {
  color: #aaa !important;
  text-align: center;
  padding: 12px;
}

/* FIX 7: Empty States - Better Messaging */
.kanban-col[data-status="todo"] .col-cards:empty::before {
  content: "No tasks queued — click + New Task to start";
  display: block;
  text-align: center;
  padding: 24px 12px;
  color: #999;
  font-size: 0.78rem;
  line-height: 1.5;
}

.kanban-col[data-status="in_progress"] .col-cards:empty::before {
  content: "Nothing running — drag tasks here or agents will pick them up";
  display: block;
  text-align: center;
  padding: 24px 12px;
  color: #999;
  font-size: 0.78rem;
  line-height: 1.5;
}

.kanban-col[data-status="review"] .col-cards:empty::before {
  content: "Nothing to review — completed tasks appear here";
  display: block;
  text-align: center;
  padding: 24px 12px;
  color: #999;
  font-size: 0.78rem;
  line-height: 1.5;
}

.kanban-col[data-status="done"] .col-cards:empty::before {
  content: "No completed tasks yet";
  display: block;
  text-align: center;
  padding: 24px 12px;
  color: #999;
  font-size: 0.78rem;
  line-height: 1.5;
}

/* FIX 8: Kanban Layout - 4-column horizontal on 1080px tablet, 2-column on smaller screens */
@media (max-width: 1200px) and (min-width: 900px) {
  .kanban {
    grid-template-columns: repeat(4, 1fr) !important;
    gap: 10px;
  }
  
  .kanban-col {
    min-height: 200px;
  }
  
  /* Make page scrollable on tablet */
  html {
    height: auto !important;
    min-height: 100vh !important;
    overflow-y: scroll !important;
  }
  
  body {
    height: auto !important;
    min-height: 100vh !important;
    overflow: visible !important;
  }
}

/* Kanban: 2-column layout for medium tablets (769-899px) */
@media (max-width: 899px) and (min-width: 769px) {
  .kanban {
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 10px;
  }
}

/* FIX 9: Sidebar Widgets - Ensure Visible on All Viewports */
#systemWidget,
#gpuWidget {
  display: block !important;
  min-height: 100px;
}

/* NEVER hide System/GPU widgets on any viewport */
@media (max-width: 1200px) {
  #systemWidget,
  #gpuWidget,
  .sidebar-widgets,
  .sidebar-widget-col {
    display: block !important;
    visibility: visible !important;
  }
}

@media (max-width: 768px) {
  #systemWidget,
  #gpuWidget,
  .sidebar-widgets,
  .sidebar-widget-col {
    display: block !important;
    visibility: visible !important;
  }
}

/* FIX 10: Better Scrollbar Visibility */
.sidebar::-webkit-scrollbar-thumb {
  background: rgba(0, 188, 212, 0.3);
}

.sidebar:hover::-webkit-scrollbar-thumb {
  background: rgba(0, 188, 212, 0.5);
}

.col-cards::-webkit-scrollbar-thumb {
  background: rgba(0, 188, 212, 0.25);
}

.col-cards:hover::-webkit-scrollbar-thumb {
  background: rgba(0, 188, 212, 0.4);
}

/* FIX 11: Nav Latency Indicator - More Visible */
#navLatency {
  color: #00e5ff !important;
  font-weight: 600;
}

/* FIX 12: Agent Card Hover - More Obvious */
.agent-card:hover {
  border-color: #00e5ff;
  box-shadow: 0 0 12px rgba(0, 229, 255, 0.2);
  transform: translateY(-1px);
}

/* FIX 13: Task Card Title - Ensure Readable */
.task-title {
  color: #fff;
  font-weight: 600;
}

/* FIX 14: Priority Badges - Higher Contrast */
.priority-critical {
  background: rgba(255, 82, 82, 0.25);
  color: #ff9999;
}

.priority-high {
  background: rgba(255, 171, 64, 0.25);
  color: #ffcc73;
}

.priority-medium {
  background: rgba(108, 99, 255, 0.25);
  color: #b8b3ff;
}

.priority-low {
  background: rgba(136, 136, 136, 0.2);
  color: #bbb;
}

/* FIX 15: Modal Headers - High Contrast */
.modal-header h2 {
  color: #fff !important;
}

/* FIX 16: Button Contrast */
.btn {
  color: #fff !important;
}

.btn:hover {
  color: #fff !important;
}

/* FIX 17: Agent Cards on Mobile - Better Layout */
@media (max-width: 768px) {
  .sidebar {
    max-height: none !important;
  }
  
  #agentsList {
    padding-bottom: 12px;
  }
  
  .agent-card {
    background: var(--card);
  }
}

/* FIX 18: GPU Indicator Colors - More Visible */
.gpu-indicator-green {
  color: #00ff7f !important;
}

.gpu-indicator-yellow {
  color: #ffcc00 !important;
}

.gpu-indicator-red {
  color: #ff6666 !important;
}

/* FIX 19: Stat Cards - Better Visual Hierarchy */
.stat-number {
  color: #fff !important;
}

.stat-dot {
  box-shadow: 0 0 8px currentColor;
}

/* FIX 20: Ensure All Pages Are Scrollable */
.page {
  overflow-y: auto !important;
  height: auto !important;
  min-height: 0 !important;
  flex: 1 !important;
}

.page.active {
  display: flex !important;
  flex-direction: column !important;
  flex: 1 !important;
}
/* ══════════════════════════════════════════════════════════════ */
/* Mission Control - Final Polishing Fixes (2026-02-15 6AM)     */
/* ══════════════════════════════════════════════════════════════ */

/* FIX 21: Agents Section - Better Horizontal Scroll */
@media (max-width: 1200px) {
  #agentsList {
    display: flex !important;
    gap: 10px;
    overflow-x: auto;
    overflow-y: visible;
    padding-bottom: 12px;
    padding-right: 20px;
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: thin;
    scrollbar-color: rgba(0, 188, 212, 0.4) rgba(0, 0, 0, 0.1);
  }
  
  #agentsList::-webkit-scrollbar {
    height: 8px;
  }
  
  #agentsList::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.1);
    border-radius: 4px;
  }
  
  #agentsList::-webkit-scrollbar-thumb {
    background: rgba(0, 188, 212, 0.4);
    border-radius: 4px;
  }
  
  #agentsList::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 188, 212, 0.6);
  }
  
  .agent-card {
    min-width: 200px;
    max-width: 200px;
    flex-shrink: 0;
  }
  
  /* Remove the arrow indicator - we have a real scrollbar now */
  #agentsList::after {
    display: none !important;
  }
}

/* FIX 22: GPU Utilization Bar - Consistent Thickness */
.gpu-bar-wrap {
  height: 4px !important;
  background: rgba(255, 255, 255, 0.08);
  border-radius: 2px;
  overflow: hidden;
  margin-top: 4px;
}

.gpu-bar {
  height: 100%;
  transition: width 0.3s ease;
  border-radius: 2px;
}

/* FIX 23: GPU Sparkline - Smaller and Less Intrusive */
.gpu-sparkline {
  height: 20px !important;
  margin-top: 6px;
  display: flex;
  align-items: flex-end;
  gap: 1px;
  background: rgba(0, 0, 0, 0.2);
  border-radius: 4px;
  padding: 2px;
}

.gpu-spark-bar {
  flex: 1;
  background: rgba(0, 188, 212, 0.4);
  border-radius: 1px;
  min-height: 2%;
}

/* FIX 24: Section Headers - Maximum Contrast */
.sidebar h2 {
  color: #fff !important;
  font-weight: 700 !important;
  font-size: 0.9rem !important;
  text-transform: uppercase;
  letter-spacing: 1.2px;
}

/* FIX 25: GPU/System Widget Labels - Higher Contrast */
.gpu-label {
  color: #ddd !important;
  font-weight: 600;
}

.gpu-value {
  color: #fff !important;
  font-weight: 600;
}

/* FIX 26: Agent Card Text - Better Readability */
.agent-name {
  color: #fff !important;
  font-weight: 700;
}

.agent-meta-model {
  color: #ccc !important;
}

/* FIX 27: Column Headers - Maximum Visibility */
.col-header {
  color: #fff !important;
  font-weight: 700 !important;
  font-size: 0.9rem !important;
}

/* FIX 28: Empty State Text - Much More Visible */
.kanban-col[data-status] .col-cards:empty::before {
  color: #bbb !important;
  font-weight: 500;
}

/* FIX 29: Dashboard Header - Maximum Contrast */
.page-header h2 {
  color: #fff !important;
  font-weight: 800 !important;
  font-size: 1.4rem !important;
}

/* FIX 30: Nav Status - Brighter */
.topnav-right {
  color: #fff !important;
  font-weight: 600;
}

#navStatus {
  color: #00ff7f !important;
}

#navLatency {
  color: #00e5ff !important;
  font-weight: 700;
}

/* FIX 31: Tab Contrast - Much Better Active/Inactive */
.tab.active {
  background: rgba(0, 188, 212, 0.2) !important;
  color: #fff !important;
  font-weight: 800 !important;
  border-bottom: 4px solid var(--accent) !important;
}

.tab:not(.active) {
  color: #888 !important;
  font-weight: 500;
}

.tab:hover:not(.active) {
  color: #fff !important;
  background: rgba(255, 255, 255, 0.08) !important;
}

/* FIX 32: Better Stat Indicator Colors */
.gpu-indicator-green {
  color: #00ff7f !important;
  font-weight: 700;
}

.gpu-indicator-yellow {
  color: #ffdd00 !important;
  font-weight: 700;
}

.gpu-indicator-red {
  color: #ff6666 !important;
  font-weight: 700;
}

/* FIX 33: Agent Status Badges - More Prominent */
.agent-status {
  font-weight: 800 !important;
  font-size: 0.7rem !important;
  padding: 4px 10px !important;
}

.status-idle {
  background: rgba(0, 188, 212, 0.25) !important;
  color: #00e5ff !important;
}

.status-busy {
  background: rgba(255, 171, 64, 0.25) !important;
  color: #ffcc00 !important;
}

.status-active {
  background: rgba(0, 230, 118, 0.25) !important;
  color: #00ff7f !important;
}

/* FIX 34: Reduce Vertical Spacing */
.page-header {
  margin-bottom: 16px !important;
}

.sidebar h2:first-of-type {
  margin-top: 0 !important;
}

/* FIX 35: Network Stats - Better Layout */
.gpu-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 2px 0;
}

/* FIX 36: Ensure Full-Page Scrollability on Tablet */
@media (max-width: 1200px) {
  html {
    overflow-y: scroll !important;
    overflow-x: hidden !important;
    height: auto !important;
  }
  
  body {
    overflow: visible !important;
    height: auto !important;
    min-height: 100vh !important;
  }
  
  .page {
    overflow-y: visible !important;
    min-height: 0 !important;
    height: auto !important;
  }
  
  .layout {
    overflow: visible !important;
    min-height: 0 !important;
    height: auto !important;
  }
  
  .main {
    overflow-y: visible !important;
    min-height: 0 !important;
    height: auto !important;
  }
}

/* FIX 37: Brand Gradient - More Vibrant */
.brand {
  background: linear-gradient(135deg, #ffd700 0%, #00e5ff 100%) !important;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  font-weight: 800 !important;
}

/* FIX 38: Dot Indicator - Stronger Glow */
.dot-green {
  box-shadow: 0 0 10px #00ff7f, 0 0 20px rgba(0, 255, 127, 0.5) !important;
}

/* FIX 39: Top Nav - Better Visual Hierarchy */
.topnav {
  border-bottom-color: rgba(0, 229, 255, 0.3) !important;
  border-bottom-width: 2px !important;
}

/* FIX 40: Agent Card Meta - Better Spacing */
.agent-meta {
  margin-top: 8px;
  line-height: 1.5;
}

.agent-meta span {
  display: block;
  margin-bottom: 2px;
}
/* ══════════════════════════════════════════════════════════════ */
/* Mission Control - Responsive Fixes (2026-02-15 3PM)          */
/* Target: 1080x1024 tablet viewport issues                     */
/* ══════════════════════════════════════════════════════════════ */

/* FIX 41: Kanban - 2x2 Grid at Tablet Breakpoint (1080-1200px) */
@media (max-width: 1200px) and (min-width: 769px) {
  .kanban {
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 12px;
    min-height: auto !important;
  }
  
  .kanban-col {
    min-height: 300px;
  }
  
  .col-cards {
    max-height: 500px !important;
    overflow-y: auto !important;
  }
}

/* FIX 42: Navigation - Compact Mode at Tablet */
@media (max-width: 1200px) {
  .topnav {
    padding: 0 12px;
    height: auto;
    min-height: 52px;
  }
  
  .topnav-left {
    margin-right: 12px;
  }
  
  .logo {
    font-size: 1.1rem;
  }
  
  .brand {
    font-size: 0.9rem;
  }
  
  .nav-tab {
    padding: 6px 8px;
    font-size: 0.75rem;
  }
  
  .topnav-right {
    margin-left: 8px;
    font-size: 0.75rem;
  }
  
  .topnav-right span:first-child {
    margin-right: 4px;
  }
}

/* FIX 43: Agent Cards - Improved Horizontal Scroll */
@media (max-width: 1200px) {
  #agentsList {
    display: flex !important;
    gap: 8px;
    overflow-x: auto;
    overflow-y: visible;
    padding-bottom: 10px;
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: auto;
    scrollbar-color: rgba(0, 188, 212, 0.5) rgba(0, 0, 0, 0.2);
  }
  
  #agentsList::-webkit-scrollbar {
    height: 8px;
  }
  
  #agentsList::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 4px;
  }
  
  #agentsList::-webkit-scrollbar-thumb {
    background: rgba(0, 188, 212, 0.5);
    border-radius: 4px;
  }
  
  #agentsList::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 188, 212, 0.7);
  }
  
  .agent-card {
    min-width: 180px;
    max-width: 180px;
    flex-shrink: 0;
    scroll-snap-align: start;
  }
}

/* FIX 44: Task Cards - Minimum Width for Readability */
@media (max-width: 1200px) {
  .task-card {
    min-width: 0;
    width: 100%;
  }
  
  .task-title {
    font-size: 0.85rem;
    line-height: 1.4;
    -webkit-line-clamp: 4;
  }
  
  .task-meta {
    flex-wrap: wrap;
    gap: 6px;
  }
  
  .task-agent,
  .task-priority,
  .task-time,
  .task-duration,
  .task-model-cost {
    font-size: 0.7rem;
  }
}

/* FIX 45: Review Column - Approve/Reject Buttons */
@media (max-width: 1200px) {
  .task-review-actions {
    display: flex;
    gap: 8px;
    margin-top: 10px;
  }
  
  .btn-approve,
  .btn-reject {
    flex: 1;
    padding: 10px 8px;
    font-size: 0.75rem;
    min-height: 44px;
    font-weight: 700;
  }
}

/* FIX 46: System/GPU Widgets - Improved Layout */
@media (max-width: 1200px) {
  .sidebar-widgets {
    display: flex;
    gap: 10px;
    margin-top: 12px;
  }
  
  .sidebar-widget-col {
    flex: 1;
    min-width: 0;
  }
  
  .sidebar-widget-col h2 {
    font-size: 0.75rem !important;
    margin-top: 0 !important;
    margin-bottom: 8px !important;
  }
  
  .gpu-widget {
    padding: 10px;
  }
  
  .gpu-row {
    padding: 3px 0;
    font-size: 0.72rem;
  }
  
  .gpu-label {
    font-size: 0.7rem;
  }
  
  .gpu-value {
    font-size: 0.72rem;
  }
}

/* FIX 47: Sidebar - Improved Vertical Layout */
@media (max-width: 1200px) {
  .sidebar {
    width: 100% !important;
    min-width: 100% !important;
    border-right: none;
    border-bottom: 1px solid var(--border);
    padding: 12px;
    max-height: none !important;
    overflow-y: visible !important;
  }
  
  .sidebar h2:first-of-type {
    display: block;
    font-size: 0.8rem;
    margin-bottom: 10px;
  }
}

/* FIX 48: Page Scrollability - Force Full-Page Scroll */
@media (max-width: 1200px) {
  html {
    overflow-y: scroll !important;
    overflow-x: hidden !important;
    height: auto !important;
    min-height: 100vh !important;
  }
  
  body {
    overflow: visible !important;
    height: auto !important;
    min-height: 100vh !important;
  }
  
  .page {
    overflow-y: visible !important;
    overflow-x: visible !important;
    min-height: 0 !important;
    height: auto !important;
    flex: none !important;
  }
  
  .page.active {
    display: flex !important;
    flex-direction: column !important;
    flex: none !important;
  }
  
  .layout {
    overflow: visible !important;
    min-height: 0 !important;
    height: auto !important;
    flex: none !important;
  }
  
  .main {
    overflow-y: visible !important;
    overflow-x: visible !important;
    min-height: 0 !important;
    height: auto !important;
    flex: none !important;
    padding-left: 0 !important;
  }
  
  .tab-content.active {
    min-height: 0;
    flex: none !important;
    height: auto;
  }
}

/* FIX 49: Column Count Badges - Better Visibility */
.col-count {
  background: rgba(0, 188, 212, 0.2) !important;
  color: #fff !important;
  font-weight: 700 !important;
  padding: 3px 10px !important;
  border-radius: 12px !important;
  font-size: 0.7rem !important;
}

/* FIX 50: Empty State Messages - Higher Contrast */
.col-empty {
  color: #bbb !important;
  font-size: 0.82rem !important;
  font-weight: 500 !important;
  opacity: 1 !important;
  padding: 28px 14px !important;
}

/* FIX 51: Task Hash IDs - Better Readability */
.task-id {
  background: rgba(0, 188, 212, 0.15) !important;
  color: #00e5ff !important;
  font-size: 0.7rem !important;
  font-weight: 700 !important;
  padding: 2px 6px !important;
  border-radius: 4px !important;
}

/* FIX 52: Approve All Button - More Prominent */
#btn-approve-all {
  font-size: 0.72rem !important;
  padding: 4px 10px !important;
  font-weight: 700 !important;
  background: rgba(76, 175, 80, 0.15) !important;
  border: 1px solid #4caf50 !important;
  color: #4caf50 !important;
}

#btn-approve-all:hover {
  background: #4caf50 !important;
  color: #fff !important;
  box-shadow: 0 0 12px rgba(76, 175, 80, 0.4) !important;
}

/* FIX 53: Done Column Card Badges - De-emphasize */
.task-card[data-status="done"] {
  opacity: 0.92;
}

.task-card[data-status="done"] .task-live-badge {
  opacity: 0.8;
}

/* FIX 54: Network Stats - Better Alignment */
.gpu-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 8px;
}

.gpu-label {
  flex: 0 0 auto;
  min-width: 70px;
}

.gpu-value {
  flex: 1;
  text-align: right;
  font-variant-numeric: tabular-nums;
}

/* FIX 55: Swap Warning Indicator */
.gpu-row.swap-critical .gpu-value {
  color: var(--orange) !important;
  font-weight: 700 !important;
}

.gpu-row.swap-critical .gpu-bar {
  background: linear-gradient(90deg, var(--orange), var(--red)) !important;
}

/* FIX 56: Text Contrast - Final Pass */
.page-header h2,
.sidebar h2,
.col-header,
.agent-name,
.task-title,
.gpu-label,
.gpu-value {
  color: #fff !important;
  font-weight: 700 !important;
}

.agent-meta,
.agent-meta span,
.task-time,
.task-duration,
.task-model-cost,
.topnav-right {
  color: #ccc !important;
}

.col-empty,
.gpu-loading {
  color: #bbb !important;
}

/* FIX 57: Mobile (768px and below) - Single Column Kanban */
@media (max-width: 768px) {
  .kanban {
    grid-template-columns: 1fr !important;
    gap: 12px;
  }
  
  .kanban-col {
    min-height: 200px;
  }
  
  .nav-tab {
    font-size: 0.7rem;
    padding: 5px 7px;
  }
}

/* FIX 58: Ensure Scrollbars Are Always Visible When Needed */
.col-cards {
  scrollbar-width: auto !important;
  scrollbar-color: rgba(0, 188, 212, 0.4) rgba(0, 0, 0, 0.1) !important;
}

.col-cards::-webkit-scrollbar {
  width: 8px !important;
}

.col-cards::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.1) !important;
  border-radius: 4px !important;
}

.col-cards::-webkit-scrollbar-thumb {
  background: rgba(0, 188, 212, 0.4) !important;
  border-radius: 4px !important;
}

.col-cards::-webkit-scrollbar-thumb:hover {
  background: rgba(0, 188, 212, 0.6) !important;
}

/* FIX 59: Filter Dropdown - Better Positioning */
@media (max-width: 1200px) {
  .tabs {
    flex-wrap: wrap;
    gap: 8px;
  }
  
  #kanbanAgentFilter {
    margin-left: 0 !important;
    margin-top: 8px;
    width: 100%;
  }
}

/* FIX 60: Todo Column - Collapse When Empty */
@media (max-width: 1200px) {
  .kanban-col[data-status="todo"]:has(.col-cards:empty) {
    display: none;
  }
}
/* ══════════════════════════════════════════════════════════════ */
/* Mission Control - Final Polish (2026-02-15 3PM)              */
/* Fixes for remaining issues after initial responsive update   */
/* ══════════════════════════════════════════════════════════════ */

/* FIX 61: Agent Cards - Visible Scroll Indicator (Tablet) */
@media (max-width: 1200px) {
  #agentsList::before {
    content: '← Scroll →';
    position: absolute;
    right: 12px;
    bottom: 2px;
    background: rgba(0, 188, 212, 0.9);
    color: #fff;
    padding: 4px 10px;
    border-radius: 6px;
    font-size: 0.65rem;
    font-weight: 700;
    pointer-events: none;
    z-index: 10;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
    opacity: 0.85;
    letter-spacing: 0.5px;
  }
}

/* FIX 62: System/GPU Panel - Collapsible/Compact Mode */
@media (max-width: 1200px) {
  .sidebar-widgets {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
    margin-top: 12px;
  }
  
  .gpu-widget,
  #systemWidget,
  #gpuWidget {
    padding: 8px !important;
    max-height: 180px;
    overflow-y: auto;
  }
  
  .gpu-sparkline {
    display: none !important;
  }
  
  .gpu-bar-wrap {
    height: 3px !important;
    margin-top: 2px !important;
  }
}

/* FIX 63: Task Title Truncation - Prevent in Done Column */
.task-card[data-status="done"] .task-title {
  -webkit-line-clamp: 5 !important;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  overflow: hidden;
  word-break: break-word;
  white-space: normal;
}

.task-title {
  word-break: break-word;
  overflow-wrap: break-word;
}

/* FIX 64: Agent Sidebar - Ensure Scrollable */
.sidebar {
  display: flex;
  flex-direction: column;
  max-height: calc(100vh - 80px);
}

#agentsList {
  flex-shrink: 0;
}

.sidebar-widgets {
  flex-shrink: 0;
  min-height: 0;
}

/* Desktop only - make sidebar scrollable */
@media (min-width: 1201px) {
  .sidebar {
    max-height: calc(100vh - 70px);
    overflow-y: auto !important;
  }
}

/* FIX 65: Review Column - More Compact Cards */
.task-card[data-status="review"] {
  padding: 10px 12px;
}

.task-card[data-status="review"] .task-title {
  -webkit-line-clamp: 3;
  margin-bottom: 6px;
}

.task-card[data-status="review"] .task-meta {
  gap: 5px;
  font-size: 0.68rem;
}

.task-card[data-status="review"] .task-review-actions {
  margin-top: 8px;
}

/* FIX 66: Done Cards - More Compact */
.task-card[data-status="done"] {
  padding: 9px 11px;
}

.task-card[data-status="done"] .task-title {
  font-size: 0.81rem;
  margin-bottom: 5px;
}

.task-card[data-status="done"] .task-meta {
  font-size: 0.66rem;
}

/* FIX 67: Approve All Button - Safer Placement */
#btn-approve-all {
  margin-left: 8px !important;
  padding: 3px 10px !important;
  font-size: 0.7rem !important;
}

/* FIX 68: Column Heights - Better Balance */
.col-cards {
  min-height: 100px;
}

@media (min-width: 1201px) {
  .col-cards {
    max-height: calc(100vh - 250px) !important;
  }
}

@media (max-width: 1200px) {
  .col-cards {
    max-height: 600px !important;
  }
}

/* FIX 69: Hash ID Badges - Better Contrast */
.task-id {
  background: rgba(0, 188, 212, 0.2) !important;
  color: #00e5ff !important;
  font-size: 0.72rem !important;
  font-weight: 800 !important;
  padding: 2px 7px !important;
  border-radius: 5px !important;
  border: 1px solid rgba(0, 188, 212, 0.3) !important;
}

/* FIX 70: Agent Cards - Prevent Name Truncation */
.agent-name {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  min-width: 0;
  flex: 1;
}

@media (max-width: 1200px) {
  .agent-card {
    min-width: 190px !important;
    max-width: 190px !important;
  }
  
  .agent-name {
    font-size: 0.84rem !important;
  }
}

/* FIX 71: Empty Column - Auto-hide Todo on Tablet */
@media (max-width: 1200px) {
  .kanban-col[data-status="todo"]:has(.col-cards:empty) {
    display: block !important;
    min-height: auto;
  }
  
  .kanban-col[data-status="todo"]:has(.col-cards:empty) .col-cards {
    min-height: 120px !important;
  }
}

/* FIX 72: System Panel - Reduce Vertical Dominance on Tablet */
@media (max-width: 1200px) {
  .sidebar {
    padding: 10px !important;
  }
  
  .sidebar h2:first-of-type {
    font-size: 0.75rem !important;
    margin-bottom: 8px !important;
  }
  
  #agentsList {
    margin-bottom: 10px;
  }
  
  .sidebar-widgets {
    margin-top: 8px !important;
  }
  
  .sidebar-widget-col h2 {
    font-size: 0.7rem !important;
    margin-bottom: 6px !important;
  }
  
  .gpu-row {
    padding: 2px 0 !important;
    font-size: 0.68rem !important;
  }
  
  .gpu-label {
    font-size: 0.67rem !important;
  }
  
  .gpu-value {
    font-size: 0.68rem !important;
  }
}

/* FIX 73: Scrollbar Contrast - Make More Visible */
.col-cards::-webkit-scrollbar-thumb {
  background: rgba(0, 188, 212, 0.5) !important;
}

.col-cards::-webkit-scrollbar-thumb:hover {
  background: rgba(0, 188, 212, 0.7) !important;
}

.sidebar::-webkit-scrollbar-thumb {
  background: rgba(0, 188, 212, 0.4) !important;
}

.sidebar::-webkit-scrollbar-thumb:hover {
  background: rgba(0, 188, 212, 0.6) !important;
}

/* FIX 74: Task Card Touch Targets (Tablet) */
@media (max-width: 1200px) {
  .btn-approve,
  .btn-reject {
    min-height: 48px !important;
    font-size: 0.78rem !important;
    font-weight: 700 !important;
  }
}

/* FIX 75: Agent Context Bars - More Visible */
.agent-ctx-bar {
  height: 5px !important;
  background: rgba(255, 255, 255, 0.1) !important;
  border-radius: 2px;
  margin-top: 4px;
}

.agent-ctx-fill {
  height: 100%;
  border-radius: 2px;
  background: linear-gradient(90deg, var(--accent), var(--green));
}

/* FIX 76: Page Header - Better Tablet Layout */
@media (max-width: 1200px) {
  .page-header {
    flex-wrap: wrap;
    gap: 10px;
    margin-bottom: 14px;
  }
  
  .page-header h2 {
    font-size: 1.2rem !important;
  }
  
  .page-subtitle {
    font-size: 0.78rem !important;
  }
}

/* FIX 77: Tab Bar - Better Touch Targets */
@media (max-width: 1200px) {
  .tabs {
    gap: 6px;
    margin-bottom: 14px;
  }
  
  .tab {
    padding: 9px 14px !important;
    font-size: 0.84rem !important;
    min-height: 44px;
    display: flex;
    align-items: center;
  }
}

/* FIX 78: Kanban Spacing - Better Vertical Rhythm */
@media (max-width: 1200px) {
  .kanban {
    gap: 14px !important;
    margin-bottom: 20px;
  }
  
  .kanban-col {
    padding: 10px !important;
  }
}

/* FIX 79: Status Badge Consistency */
.status-idle,
.status-busy,
.status-active,
.status-error {
  padding: 4px 11px !important;
  font-size: 0.68rem !important;
  font-weight: 800 !important;
  border-radius: 12px !important;
}

/* FIX 80: Final Text Contrast Pass */
.col-header,
.page-header h2,
.sidebar h2,
.agent-name,
.task-title {
  color: #fff !important;
  font-weight: 700 !important;
}

.agent-meta,
.task-meta,
.gpu-value,
.topnav-right {
  color: #ddd !important;
}

.gpu-label,
.col-empty,
.page-subtitle {
  color: #bbb !important;
}
