<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mission Control â€” OpenClaw</title>
<meta name="theme-color" content="#1a1a1a">
<link rel="stylesheet" href="/static/style.css">
</head>
<body>

<!-- Top Navigation -->
<nav class="topnav">
  <div class="topnav-left">
    <span class="logo">âš¡</span>
    <span class="brand">Mission Control</span>
  </div>
  <div class="topnav-tabs">
    <button class="nav-tab active" data-page="dashboard" onclick="navigateTo('dashboard')">ğŸ“Š Dashboard</button>
    <button class="nav-tab" data-page="taskmanager" onclick="navigateTo('taskmanager')">ğŸ–¥ï¸ Task Manager</button>
    <button class="nav-tab" data-page="orgchart" onclick="navigateTo('orgchart')">ğŸ¢ Org Chart</button>
    <button class="nav-tab" data-page="scheduled" onclick="navigateTo('scheduled')">â° Scheduled Tasks</button>
    <button class="nav-tab" data-page="workspaces" onclick="navigateTo('workspaces')">ğŸ“ Workspaces</button>
    <button class="nav-tab" data-page="standups" onclick="navigateTo('standups')">ğŸ’¬ Standups</button>
  </div>
  <div class="topnav-right">
    <span class="dot dot-green"></span>
    <span id="navStatus">Online</span>
  </div>
</nav>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!-- PAGE: Dashboard (original kanban) -->
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="page active" id="page-dashboard">
  <div class="page-header">
    <h2>ğŸ“‹ Dashboard</h2>
    <button class="btn btn-primary" onclick="openCreateModal()">+ New Task</button>
  </div>

  <div class="layout">
    <aside class="sidebar" id="agentsPanel">
      <h2>ğŸ¤– Agents</h2>
      <div id="agentsList"></div>
      <h2 style="margin-top:20px">ğŸ® GPU Stats</h2>
      <div id="gpuWidget" class="gpu-widget">
        <div class="gpu-loading">Loading...</div>
      </div>
    </aside>
    <main class="main">
      <div class="tabs">
        <button class="tab active" data-tab="board" onclick="switchTab('board')">ğŸ“‹ Board</button>
        <button class="tab" data-tab="activity" onclick="switchTab('activity')">ğŸ“¡ Activity</button>
      </div>
      <div class="tab-content active" id="boardView">
        <div class="kanban">
          <div class="kanban-col" data-status="todo">
            <div class="col-header"><span class="col-dot" style="background:#6c63ff"></span>Todo <span class="col-count" id="count-todo">0</span></div>
            <div class="col-cards" id="col-todo" ondrop="drop(event)" ondragover="allowDrop(event)" ondragleave="dragLeave(event)"></div>
          </div>
          <div class="kanban-col" data-status="in_progress">
            <div class="col-header"><span class="col-dot" style="background:#ffab40"></span>In Progress <span class="col-count" id="count-in_progress">0</span></div>
            <div class="col-cards" id="col-in_progress" ondrop="drop(event)" ondragover="allowDrop(event)" ondragleave="dragLeave(event)"></div>
          </div>
          <div class="kanban-col" data-status="review">
            <div class="col-header"><span class="col-dot" style="background:#e040fb"></span>Review <span class="col-count" id="count-review">0</span></div>
            <div class="col-cards" id="col-review" ondrop="drop(event)" ondragover="allowDrop(event)" ondragleave="dragLeave(event)"></div>
          </div>
          <div class="kanban-col" data-status="done">
            <div class="col-header"><span class="col-dot" style="background:#00E676"></span>Done <span class="col-count" id="count-done">0</span></div>
            <div class="col-cards" id="col-done" ondrop="drop(event)" ondragover="allowDrop(event)" ondragleave="dragLeave(event)"></div>
          </div>
        </div>
      </div>
      <div class="tab-content" id="activityView">
        <div class="activity-header">
          <select id="activityFilter" onchange="loadActivity()">
            <option value="">All Agents</option>
            <option value="main">Mike</option>
            <option value="trading">Trading / AA</option>
            <option value="it-support">IT Support</option>
            <option value="dev">Dev</option>
            <option value="voice">Voice</option>
            <option value="troubleshoot">Troubleshoot</option>
          </select>
        </div>
        <div id="activityFeed"></div>
      </div>
    </main>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!-- PAGE: Task Manager -->
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="page" id="page-taskmanager">
  <div class="page-header">
    <div>
      <h2>ğŸ–¥ï¸ Task Manager</h2>
      <p class="page-subtitle">Agent fleet overview and session tracking</p>
    </div>
  </div>

  <!-- Stats Bar -->
  <div class="stats-bar" id="statsBar">
    <div class="stat-card">
      <span class="stat-dot" style="background:#6c63ff"></span>
      <div class="stat-info">
        <span class="stat-number" id="stat-total">6</span>
        <span class="stat-label">Total Agents</span>
      </div>
    </div>
    <div class="stat-card">
      <span class="stat-dot" style="background:#00E676"></span>
      <div class="stat-info">
        <span class="stat-number" id="stat-active">0</span>
        <span class="stat-label">Active</span>
      </div>
    </div>
    <div class="stat-card">
      <span class="stat-dot" style="background:#00bcd4"></span>
      <div class="stat-info">
        <span class="stat-number" id="stat-idle">6</span>
        <span class="stat-label">Idle</span>
      </div>
    </div>
    <div class="stat-card">
      <span class="stat-dot" style="background:#ffab40"></span>
      <div class="stat-info">
        <span class="stat-number" id="stat-busy">0</span>
        <span class="stat-label">Busy</span>
      </div>
    </div>
    <div class="stat-card">
      <span class="stat-dot" style="background:#ff5252"></span>
      <div class="stat-info">
        <span class="stat-number" id="stat-error">0</span>
        <span class="stat-label">Error</span>
      </div>
    </div>
  </div>

  <!-- Agent Cards -->
  <div class="agent-cards-row" id="agentCardsRow"></div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!-- PAGE: Org Chart -->
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="page" id="page-orgchart">
  <div class="page-header">
    <div>
      <h2>ğŸ¢ Organization Chart</h2>
      <p class="page-subtitle">Team hierarchy and reporting structure</p>
    </div>
    <div class="page-actions">
      <button class="btn" onclick="expandAllOrg()">Expand All</button>
      <button class="btn" onclick="collapseAllOrg()">Collapse All</button>
    </div>
  </div>

  <div class="org-tree" id="orgTree"></div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!-- PAGE: Scheduled Tasks -->
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="page" id="page-scheduled">
  <div class="page-header">
    <div>
      <h2>â° Scheduled Tasks</h2>
      <p class="page-subtitle">Cron jobs, weekly tasks, and overnight log</p>
    </div>
  </div>

  <div class="scheduled-sections">
    <div class="section-block">
      <h3 class="section-title">ğŸ“… Daily Jobs</h3>
      <div id="dailyJobs"></div>
    </div>
    <div class="section-block">
      <h3 class="section-title">ğŸ“† Weekly Jobs</h3>
      <div id="weeklyJobs"></div>
    </div>
    <div class="section-block">
      <h3 class="section-title">ğŸŒ™ Overnight Log</h3>
      <div id="overnightLog"></div>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!-- PAGE: Workspaces -->
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="page" id="page-workspaces">
  <div class="page-header">
    <div>
      <h2>ğŸ“ Agent Workspaces</h2>
      <p class="page-subtitle">View agent configuration files</p>
    </div>
  </div>

  <div class="workspace-layout">
    <aside class="ws-sidebar" id="wsSidebar">
      <div class="ws-section-title">WORKSPACES</div>
      <div id="wsAgentList"></div>
    </aside>
    <main class="ws-content" id="wsContent">
      <div class="ws-placeholder">
        <span>ğŸ“„</span>
        <p>Select an agent and file to view</p>
      </div>
    </main>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!-- PAGE: Standups -->
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="page" id="page-standups">
  <div class="page-header">
    <div>
      <h2>ğŸ’¬ Standups & Action Items</h2>
      <p class="page-subtitle">Team discussions and tracked action items</p>
    </div>
    <button class="btn btn-primary" onclick="openStandupModal()">+ New Standup</button>
  </div>

  <div id="standupsList"></div>
  <div id="standupDetail" style="display:none"></div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!-- Modals -->
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->

<!-- Task Detail Modal -->
<div class="modal-overlay" id="detailModal" onclick="closeDetailIfOutside(event)">
  <div class="modal" onclick="event.stopPropagation()">
    <div class="modal-header">
      <h2 id="detailTitle"></h2>
      <button class="modal-close" onclick="closeDetail()">âœ•</button>
    </div>
    <div class="modal-body" id="detailBody"></div>
  </div>
</div>

<!-- Create Task Modal -->
<div class="modal-overlay" id="createModal" onclick="closeCreateIfOutside(event)">
  <div class="modal modal-sm" onclick="event.stopPropagation()">
    <div class="modal-header">
      <h2>New Task</h2>
      <button class="modal-close" onclick="closeCreate()">âœ•</button>
    </div>
    <form class="modal-body" onsubmit="createTask(event)">
      <label>Title *</label>
      <input type="text" id="newTitle" required placeholder="Task title...">
      <label>Description</label>
      <textarea id="newDesc" rows="3" placeholder="Details..."></textarea>
      <label>Assign to Agent</label>
      <select id="newAgent">
        <option value="">Unassigned</option>
        <option value="main">Mike</option>
        <option value="trading">Trading / AA</option>
        <option value="it-support">IT Support</option>
        <option value="dev">Dev</option>
        <option value="voice">Voice</option>
        <option value="troubleshoot">Troubleshoot</option>
      </select>
      <label>Priority</label>
      <select id="newPriority">
        <option value="low">Low</option>
        <option value="medium" selected>Medium</option>
        <option value="high">High</option>
        <option value="critical">Critical</option>
      </select>
      <div class="form-actions">
        <button type="button" class="btn" onclick="closeCreate()">Cancel</button>
        <button type="submit" class="btn btn-primary">Create Task</button>
      </div>
    </form>
  </div>
</div>

<!-- Create Standup Modal -->
<div class="modal-overlay" id="standupModal" onclick="if(event.target===this)this.classList.remove('open')">
  <div class="modal modal-sm" onclick="event.stopPropagation()">
    <div class="modal-header">
      <h2>New Standup</h2>
      <button class="modal-close" onclick="document.getElementById('standupModal').classList.remove('open')">âœ•</button>
    </div>
    <form class="modal-body" onsubmit="createStandup(event)">
      <label>Title *</label>
      <input type="text" id="standupTitle" required placeholder="Standup topic...">
      <label>Participants</label>
      <div class="checkbox-group">
        <label class="cb-label"><input type="checkbox" value="main" checked> ğŸ¯ Mike</label>
        <label class="cb-label"><input type="checkbox" value="trading"> ğŸ“ˆ Trading / AA</label>
        <label class="cb-label"><input type="checkbox" value="it-support"> ğŸ”§ IT Support</label>
        <label class="cb-label"><input type="checkbox" value="dev"> ğŸ’» Dev</label>
        <label class="cb-label"><input type="checkbox" value="voice"> ğŸ™ï¸ Voice</label>
        <label class="cb-label"><input type="checkbox" value="troubleshoot"> ğŸ” Troubleshoot</label>
      </div>
      <div class="form-actions">
        <button type="button" class="btn" onclick="document.getElementById('standupModal').classList.remove('open')">Cancel</button>
        <button type="submit" class="btn btn-primary">Create Standup</button>
      </div>
    </form>
  </div>
</div>

<script src="/static/app.js"></script>
</body>
</html>
